import{d as ve,e as ye,h as be,j as he,l as Se}from"./chunk-PAS32UQI.js";import{b as ge,c as fe,e as z,j as J,o as W,p as K,r as ue,s as xe}from"./chunk-VNBHRZ5R.js";import{a as P,b as M,c as pe}from"./chunk-4UJSBPAV.js";import{B as H,D as a,Fa as Y,Ga as T,Ha as F,I as u,J as me,K as d,Ka as R,L,La as O,N as E,Na as ce,R as t,S as e,T as s,Ua as I,X as S,Y as x,Ya as D,Z as g,Za as A,_a as ae,ea as n,fa as m,ga as c,ha as C,ja as U,ka as G,la as V,n as Q,p as y,q as w,r as B,u as b,ua as v,v as h,va as k,w as se,wa as _,x as de}from"./chunk-OBJ3TPWI.js";function we(l,r){if(l&1&&(t(0,"p",105),n(1),e()),l&2){let i=g();a(),c(" Logged in as: ",i.currentUser.email," ")}}function Ee(l,r){if(l&1&&(t(0,"div",81)(1,"strong"),n(2,"Deadline:"),e(),n(3),v(4,"date"),e()),l&2){let i=g().$implicit;a(3),c(" ",_(4,1,i.deadline,"medium")," ")}}function Ie(l,r){if(l&1){let i=S();t(0,"button",119),x("click",function(){b(i);let p=g().$implicit,f=g();return h(f.acknowledgeAlert(p.id))}),s(1,"i",120),n(2,"Acknowledge "),e()}}function De(l,r){if(l&1){let i=S();t(0,"div",106)(1,"div",107)(2,"div",108)(3,"div",109),s(4,"i"),e(),t(5,"div",110)(6,"h3",111),n(7),e(),t(8,"p",45),n(9),e(),t(10,"p",112),n(11),e(),t(12,"p",113)(13,"strong"),n(14,"Action Required:"),e(),n(15),e(),u(16,Ee,5,4,"div",114),e()(),t(17,"div",115),u(18,Ie,3,0,"button",116),t(19,"button",117),x("click",function(){let p=b(i).$implicit,f=g();return h(f.resolveAlert(p.id))}),s(20,"i",118),n(21,"Resolve "),e()()()()}if(l&2){let i=r.$implicit,o=g();E(o.getAlertSeverityColor(i.severity)),a(3),E(i.severity==="critical"?"bg-red-100":i.severity==="high"?"bg-orange-100":"bg-yellow-100"),a(),E(o.getAlertTypeIcon(i.type)+" "+(i.severity==="critical"?"text-red-600":i.severity==="high"?"text-orange-600":"text-yellow-600")),a(3),m(i.staffMember.name),a(2),C("",i.staffMember.position," - ",i.staffMember.department,""),a(2),m(i.message),a(4),c(" ",i.actionRequired," "),a(),d("ngIf",i.deadline),a(2),d("ngIf",!i.acknowledged)}}function Pe(l,r){if(l&1&&(t(0,"div",108)(1,"div",109),s(2,"i"),e(),t(3,"div",110)(4,"h3",121),n(5),e(),t(6,"p",45),n(7),e(),t(8,"div",122)(9,"span"),n(10),v(11,"date"),e(),t(12,"span"),n(13),e()()()()),l&2){let i=r.$implicit;a(),E(i.iconColor==="text-green-600"?"bg-green-100":i.iconColor==="text-blue-600"?"bg-blue-100":i.iconColor==="text-purple-600"?"bg-purple-100":i.iconColor==="text-indigo-600"?"bg-indigo-100":"bg-gray-100"),a(),E(i.icon+" "+i.iconColor),a(3),m(i.title),a(2),m(i.description),a(3),m(_(11,8,i.timestamp,"short")),a(3),m(i.user)}}function Me(l,r){if(l&1&&(t(0,"span",123),n(1),e()),l&2){let i=r.$implicit;a(),c(" ",i," ")}}var X=class l{titleService=y(I);router=y(D);currentUser=null;facility={id:"FAC-001",name:"Mulago National Referral Hospital",type:"hospital",licenseNumber:"MoH-H-001",status:"active",region:"Central",district:"Kampala",address:"Mulago Hill, Kampala, Uganda",phone:"+256 414 530 692",email:"info@mulago.go.ug",website:"https://mulago.go.ug",bedCapacity:1500,serviceScope:["Emergency Care","Surgery","Cardiology","Oncology","Pediatrics","Maternity","ICU","Laboratory","Radiology"],accreditationScore:94.7,lastInspection:new Date("2024-11-15"),nextInspection:new Date("2025-05-15"),complianceRate:96.2,staffCount:2847,verifiedStaff:2698,establishedDate:new Date("1962-01-01"),operatingHours:{Monday:"24/7",Tuesday:"24/7",Wednesday:"24/7",Thursday:"24/7",Friday:"24/7",Saturday:"24/7",Sunday:"24/7"}};dashboardStats={totalStaff:this.facility.staffCount,verifiedStaff:this.facility.verifiedStaff,complianceRate:this.facility.complianceRate,expiringIn30Days:47,expiringIn60Days:89,expiringIn90Days:156,suspendedStaff:3,revokedStaff:1,pendingApprovals:12,monthlyVerifications:234,accreditationScore:this.facility.accreditationScore,lastInspectionScore:92.5,correctiveActionsOpen:2,correctiveActionsCompleted:8};staffAlerts=[{id:"ALT-001",type:"expiry_warning",severity:"high",staffMember:{name:"Dr. Sarah Nakato",licenseNumber:"UMC-UG-3456",position:"Senior Consultant",department:"Cardiology"},message:"Medical license expires in 15 days",actionRequired:"Ensure renewal application is submitted immediately",deadline:new Date("2025-02-15"),dateCreated:new Date("2025-01-15T09:00:00"),acknowledged:!1},{id:"ALT-002",type:"license_suspended",severity:"critical",staffMember:{name:"Nurse Patricia Nambi",licenseNumber:"NMC-UG-7891",position:"Registered Nurse",department:"ICU"},message:"License suspended due to CPD non-compliance",actionRequired:"Remove from active duty immediately and arrange CPD completion",dateCreated:new Date("2025-01-14T14:30:00"),acknowledged:!0},{id:"ALT-003",type:"cpd_deficient",severity:"medium",staffMember:{name:"Dr. James Okello",licenseNumber:"UMC-UG-2789",position:"Medical Officer",department:"Emergency Medicine"},message:"CPD credits below required threshold (35/60 credits)",actionRequired:"Arrange additional CPD training within 60 days",deadline:new Date("2025-03-15"),dateCreated:new Date("2025-01-12T11:15:00"),acknowledged:!1}];recentActivities=[{id:1,type:"staff_verification",title:"Staff Verification Completed",description:"247 staff members verified - 3 issues found",timestamp:new Date("2025-01-15T10:30:00"),user:"HR Manager - Grace Atim",icon:"ri-shield-check-line",iconColor:"text-green-600"},{id:2,type:"new_staff",title:"New Staff Member Added",description:"Dr. Patricia Nakato - Pediatrician - Verification pending",timestamp:new Date("2025-01-14T15:20:00"),user:"HR Officer - John Mukasa",icon:"ri-user-add-line",iconColor:"text-blue-600"},{id:3,type:"inspection_scheduled",title:"Inspection Scheduled",description:"Quarterly compliance inspection - May 15, 2025",timestamp:new Date("2025-01-13T09:45:00"),user:"Quality Assurance",icon:"ri-calendar-line",iconColor:"text-purple-600"},{id:4,type:"qr_poster_updated",title:"QR Poster Updated",description:"Lobby poster updated with latest verified staff list",timestamp:new Date("2025-01-12T16:00:00"),user:"System Automation",icon:"ri-qr-code-line",iconColor:"text-indigo-600"}];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("Facility Portal - Uganda Medical Registry")}getAlertSeverityColor(r){switch(r){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}getAlertTypeIcon(r){switch(r){case"expiry_warning":return"ri-time-line";case"license_suspended":return"ri-pause-circle-line";case"license_revoked":return"ri-close-circle-line";case"cpd_deficient":return"ri-book-line";case"new_sanction":return"ri-shield-cross-line";default:return"ri-alert-line"}}acknowledgeAlert(r){let i=this.staffAlerts.find(o=>o.id===r);i&&(i.acknowledged=!0,window.alert(`Alert ${r} acknowledged`))}resolveAlert(r){let i=this.staffAlerts.findIndex(o=>o.id===r);i!==-1&&(this.staffAlerts.splice(i,1),window.alert(`Alert ${r} resolved and removed`))}getUnacknowledgedAlertsCount(){return this.staffAlerts.filter(r=>!r.acknowledged).length}formatNumber(r){return new Intl.NumberFormat("en-UG").format(r)}formatPercentage(r){return`${r.toFixed(1)}%`}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-facility-dashboard"]],decls:267,vars:43,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-teal-600","to-cyan-700","py-8"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"flex","items-center"],[1,"w-16","h-16","bg-white","rounded-full","flex","items-center","justify-center","mr-6","shadow-lg"],[1,"ri-hospital-line","text-teal-600","text-2xl"],[1,"text-3xl","font-bold","text-white","mb-1"],[1,"text-teal-100"],[1,"text-teal-200","text-sm"],["class","text-teal-200 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"text-right","text-white"],[1,"text-sm"],[1,"text-2xl","font-bold"],[1,"text-xs","text-teal-200"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium",3,"click"],[1,"ri-logout-box-line","mr-2"],[1,"py-8","bg-gray-50"],[1,"grid","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border-l-4","border-blue-500"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center"],[1,"ri-team-line","text-blue-600","text-xl"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border-l-4","border-green-500"],[1,"text-xs","text-green-600","mt-1"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center"],[1,"ri-shield-check-line","text-green-600","text-xl"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border-l-4","border-orange-500"],[1,"text-xs","text-orange-600","mt-1"],[1,"w-12","h-12","bg-orange-100","rounded-full","flex","items-center","justify-center"],[1,"ri-time-line","text-orange-600","text-xl"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border-l-4","border-purple-500"],[1,"text-xs","text-purple-600","mt-1"],[1,"w-12","h-12","bg-purple-100","rounded-full","flex","items-center","justify-center"],[1,"ri-award-line","text-purple-600","text-xl"],[1,"grid","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6","hover:shadow-md","transition-shadow"],[1,"flex","items-center","mb-4"],[1,"w-12","h-12","bg-teal-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-building-line","text-teal-600","text-xl"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],["routerLink","/facility/profile",1,"w-full","bg-teal-500","text-white","px-4","py-2","rounded-lg","hover:bg-teal-600","transition","font-medium","text-center","block"],[1,"ri-edit-line","mr-2"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-user-settings-line","text-blue-600","text-xl"],["routerLink","/facility/staff-linking",1,"w-full","bg-blue-500","text-white","px-4","py-2","rounded-lg","hover:bg-blue-600","transition","font-medium","text-center","block"],[1,"ri-team-line","mr-2"],[1,"w-12","h-12","bg-purple-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-qr-code-line","text-purple-600","text-xl"],["routerLink","/facility/qr-poster",1,"w-full","bg-purple-500","text-white","px-4","py-2","rounded-lg","hover:bg-purple-600","transition","font-medium","text-center","block"],[1,"ri-printer-line","mr-2"],[1,"w-12","h-12","bg-orange-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-search-eye-line","text-orange-600","text-xl"],["routerLink","/facility/inspections",1,"w-full","bg-orange-500","text-white","px-4","py-2","rounded-lg","hover:bg-orange-600","transition","font-medium","text-center","block"],[1,"ri-file-search-line","mr-2"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-bar-chart-line","text-green-600","text-xl"],["routerLink","/facility/compliance",1,"w-full","bg-green-500","text-white","px-4","py-2","rounded-lg","hover:bg-green-600","transition","font-medium","text-center","block"],[1,"ri-dashboard-line","mr-2"],[1,"w-12","h-12","bg-indigo-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-global-line","text-indigo-600","text-xl"],[1,"w-full","bg-indigo-500","text-white","px-4","py-2","rounded-lg","hover:bg-indigo-600","transition","font-medium"],[1,"ri-eye-line","mr-2"],[1,"py-8"],[1,"grid","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"bg-red-100","text-red-800","text-xs","px-2","py-1","rounded-full"],[1,"space-y-4"],["class","border rounded-lg p-4",3,"class",4,"ngFor","ngForOf"],[1,"text-xl","font-semibold","text-gray-800","mb-6"],[1,"grid","md:grid-cols-3","gap-6"],[1,"text-center","p-4","bg-red-50","rounded-lg","border","border-red-200"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-xs","text-red-600","mt-1"],[1,"text-center","p-4","bg-orange-50","rounded-lg","border","border-orange-200"],[1,"text-2xl","font-bold","text-orange-600"],[1,"text-center","p-4","bg-yellow-50","rounded-lg","border","border-yellow-200"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"text-xs","text-yellow-600","mt-1"],["class","flex items-start",4,"ngFor","ngForOf"],[1,"space-y-6"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"space-y-3"],[1,"flex","justify-between"],[1,"text-gray-600"],[1,"text-green-600","font-medium"],[1,"text-gray-800"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800",4,"ngFor","ngForOf"],[1,"flex","justify-between","text-sm","mb-1"],[1,"font-medium"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-green-500","h-2","rounded-full"],[1,"bg-purple-500","h-2","rounded-full"],[1,"font-semibold","text-orange-600"],[1,"font-semibold","text-red-600"],[1,"font-semibold","text-blue-600"],[1,"text-teal-200","text-xs","mt-1"],[1,"border","rounded-lg","p-4"],[1,"flex","items-start","justify-between"],[1,"flex","items-start"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","mr-4"],[1,"flex-1"],[1,"font-medium","text-gray-800"],[1,"text-sm","text-gray-700","mt-1"],[1,"text-xs","text-gray-600","mt-2"],["class","text-xs text-red-600 mt-1",4,"ngIf"],[1,"flex","flex-col","space-y-2"],["class","bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600 transition",3,"click",4,"ngIf"],[1,"bg-green-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-green-600","transition",3,"click"],[1,"ri-check-double-line","mr-1"],[1,"bg-blue-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-blue-600","transition",3,"click"],[1,"ri-check-line","mr-1"],[1,"font-medium","text-gray-800","text-sm"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","mt-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-teal-100","text-teal-800"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),s(7,"i",6),e(),t(8,"div")(9,"h1",7),n(10),e(),t(11,"p",8),n(12),v(13,"titlecase"),e(),t(14,"p",9),n(15),e(),u(16,we,2,1,"p",10),e()(),t(17,"div",11)(18,"div",12)(19,"div",13),n(20,"Accreditation Score"),e(),t(21,"div",14),n(22),e(),t(23,"div",15),n(24),v(25,"date"),e()(),t(26,"button",16),x("click",function(){return o.logout()}),s(27,"i",17),n(28," Logout "),e()()()()(),t(29,"section",18)(30,"div",2)(31,"div",19)(32,"div",20)(33,"div",21)(34,"div")(35,"p",22),n(36,"Total Staff"),e(),t(37,"p",23),n(38),e(),t(39,"p",24),n(40,"Healthcare professionals"),e()(),t(41,"div",25),s(42,"i",26),e()()(),t(43,"div",27)(44,"div",21)(45,"div")(46,"p",22),n(47,"Verified Staff"),e(),t(48,"p",23),n(49),e(),t(50,"p",28),n(51),e()(),t(52,"div",29),s(53,"i",30),e()()(),t(54,"div",31)(55,"div",21)(56,"div")(57,"p",22),n(58,"Expiring (30 days)"),e(),t(59,"p",23),n(60),e(),t(61,"p",32),n(62,"Requires attention"),e()(),t(63,"div",33),s(64,"i",34),e()()(),t(65,"div",35)(66,"div",21)(67,"div")(68,"p",22),n(69,"Accreditation"),e(),t(70,"p",23),n(71),e(),t(72,"p",36),n(73),e()(),t(74,"div",37),s(75,"i",38),e()()()(),t(76,"div",39)(77,"div",40)(78,"div",41)(79,"div",42),s(80,"i",43),e(),t(81,"div")(82,"h3",44),n(83,"Profile Management"),e(),t(84,"p",45),n(85,"Update facility information"),e()()(),t(86,"a",46),s(87,"i",47),n(88," Manage Profile "),e()(),t(89,"div",40)(90,"div",41)(91,"div",48),s(92,"i",49),e(),t(93,"div")(94,"h3",44),n(95,"Staff Linking"),e(),t(96,"p",45),n(97,"Manage staff affiliations"),e()()(),t(98,"a",50),s(99,"i",51),n(100," Manage Staff "),e()(),t(101,"div",40)(102,"div",41)(103,"div",52),s(104,"i",53),e(),t(105,"div")(106,"h3",44),n(107,"QR Poster"),e(),t(108,"p",45),n(109,"Generate lobby displays"),e()()(),t(110,"a",54),s(111,"i",55),n(112," Generate Poster "),e()(),t(113,"div",40)(114,"div",41)(115,"div",56),s(116,"i",57),e(),t(117,"div")(118,"h3",44),n(119,"Inspections"),e(),t(120,"p",45),n(121,"View findings & actions"),e()()(),t(122,"a",58),s(123,"i",59),n(124," View Reports "),e()(),t(125,"div",40)(126,"div",41)(127,"div",60),s(128,"i",61),e(),t(129,"div")(130,"h3",44),n(131,"Compliance"),e(),t(132,"p",45),n(133,"Monitor gaps & expiries"),e()()(),t(134,"a",62),s(135,"i",63),n(136," View Dashboard "),e()(),t(137,"div",40)(138,"div",41)(139,"div",64),s(140,"i",65),e(),t(141,"div")(142,"h3",44),n(143,"Public Profile"),e(),t(144,"p",45),n(145,"View public listing"),e()()(),t(146,"button",66),s(147,"i",67),n(148," View Public Profile "),e()()()()(),t(149,"section",68)(150,"div",2)(151,"div",69)(152,"div",70)(153,"div",71)(154,"div",72)(155,"h2",73),n(156,"Staff Alerts"),e(),t(157,"span",74),n(158),e()(),t(159,"div",75),u(160,De,22,13,"div",76),e()(),t(161,"div",71)(162,"h2",77),n(163,"License Expiry Calendar"),e(),t(164,"div",78)(165,"div",79)(166,"div",80),n(167),e(),t(168,"div",45),n(169,"Expiring in 30 days"),e(),t(170,"div",81),n(171,"Immediate action required"),e()(),t(172,"div",82)(173,"div",83),n(174),e(),t(175,"div",45),n(176,"Expiring in 60 days"),e(),t(177,"div",32),n(178,"Plan renewal process"),e()(),t(179,"div",84)(180,"div",85),n(181),e(),t(182,"div",45),n(183,"Expiring in 90 days"),e(),t(184,"div",86),n(185,"Monitor closely"),e()()()(),t(186,"div",71)(187,"h2",77),n(188,"Recent Activity"),e(),t(189,"div",75),u(190,Pe,14,11,"div",87),e()()(),t(191,"div",88)(192,"div",71)(193,"h3",89),n(194,"Facility Information"),e(),t(195,"div",90)(196,"div",91)(197,"span",92),n(198,"License Status"),e(),t(199,"span",93),n(200),e()(),t(201,"div",91)(202,"span",92),n(203,"Bed Capacity"),e(),t(204,"span",94),n(205),e()(),t(206,"div",91)(207,"span",92),n(208,"Established"),e(),t(209,"span",94),n(210),e()(),t(211,"div",91)(212,"span",92),n(213,"Next Inspection"),e(),t(214,"span",94),n(215),v(216,"date"),e()()()(),t(217,"div",71)(218,"h3",89),n(219,"Services Offered"),e(),t(220,"div",95),u(221,Me,2,1,"span",96),e()(),t(222,"div",71)(223,"h3",89),n(224,"Compliance Overview"),e(),t(225,"div",75)(226,"div")(227,"div",97)(228,"span",92),n(229,"Staff Verification"),e(),t(230,"span",98),n(231),e()(),t(232,"div",99),s(233,"div",100),e()(),t(234,"div")(235,"div",97)(236,"span",92),n(237,"Accreditation Score"),e(),t(238,"span",98),n(239),e()(),t(240,"div",99),s(241,"div",101),e()()()(),t(242,"div",71)(243,"h3",89),n(244,"Quick Stats"),e(),t(245,"div",90)(246,"div",91)(247,"span",92),n(248,"Suspended Staff"),e(),t(249,"span",102),n(250),e()(),t(251,"div",91)(252,"span",92),n(253,"Revoked Licenses"),e(),t(254,"span",103),n(255),e()(),t(256,"div",91)(257,"span",92),n(258,"Pending Approvals"),e(),t(259,"span",104),n(260),e()(),t(261,"div",91)(262,"span",92),n(263,"Monthly Verifications"),e(),t(264,"span",44),n(265),e()()()()()()()(),s(266,"app-footer"),e()),i&2&&(a(10),m(o.facility.name),a(2),C("",k(13,35,o.facility.type)," - ",o.facility.licenseNumber,""),a(3),C("",o.facility.region,", ",o.facility.district,""),a(),d("ngIf",o.currentUser),a(6),c("",o.facility.accreditationScore.toFixed(1),"%"),a(2),c("Last inspection: ",_(25,37,o.facility.lastInspection,"medium"),""),a(14),m(o.formatNumber(o.dashboardStats.totalStaff)),a(11),m(o.formatNumber(o.dashboardStats.verifiedStaff)),a(2),c("",o.formatPercentage(o.dashboardStats.complianceRate)," compliance"),a(9),m(o.formatNumber(o.dashboardStats.expiringIn30Days)),a(11),m(o.formatPercentage(o.dashboardStats.accreditationScore)),a(2),c("",o.dashboardStats.correctiveActionsOpen," actions open"),a(85),c(" ",o.getUnacknowledgedAlertsCount()," Unacknowledged "),a(2),d("ngForOf",o.staffAlerts),a(7),m(o.formatNumber(o.dashboardStats.expiringIn30Days)),a(7),m(o.formatNumber(o.dashboardStats.expiringIn60Days)),a(7),m(o.formatNumber(o.dashboardStats.expiringIn90Days)),a(9),d("ngForOf",o.recentActivities),a(10),m(o.facility.status),a(5),m(o.facility.bedCapacity),a(5),m(o.facility.establishedDate.getFullYear()),a(5),m(_(216,40,o.facility.nextInspection,"medium")),a(6),d("ngForOf",o.facility.serviceScope),a(10),c("",o.dashboardStats.complianceRate.toFixed(1),"%"),a(2),L("width",o.dashboardStats.complianceRate,"%"),a(6),c("",o.dashboardStats.accreditationScore.toFixed(1),"%"),a(2),L("width",o.dashboardStats.accreditationScore,"%"),a(9),m(o.dashboardStats.suspendedStaff),a(5),m(o.dashboardStats.revokedStaff),a(5),m(o.dashboardStats.pendingApprovals),a(5),m(o.dashboardStats.monthlyVerifications))},dependencies:[T,F,A,P,M,R,O],styles:[".facility-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.facility-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.alert-card[_ngcontent-%COMP%]{transition:all .3s ease}.alert-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.alert-critical[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.quick-action-card[_ngcontent-%COMP%]{transition:all .3s ease}.quick-action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000001a}.compliance-bar[_ngcontent-%COMP%]{transition:width .5s ease-in-out}.activity-item[_ngcontent-%COMP%]{transition:all .3s ease}.activity-item[_ngcontent-%COMP%]:hover{background-color:#14b8a605;border-radius:8px;padding:8px;margin:-8px}.service-tag[_ngcontent-%COMP%]{transition:all .3s ease}.service-tag[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.facility-card[_ngcontent-%COMP%]{padding:16px}.alert-card[_ngcontent-%COMP%]{padding:12px}}"]})};var Z=class l{titleService=y(I);router=y(D);currentUser=null;ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("Profile Management - Facility Portal")}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-profile-management"]],decls:16,vars:0,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-teal-600","to-cyan-700","py-6"],[1,"container","mx-auto","px-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-teal-100"],[1,"py-8"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-600"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"h1",3),n(5,"Profile Management"),e(),t(6,"p",4),n(7,"Manage facility information and services"),e()()(),t(8,"section",5)(9,"div",2)(10,"div",6)(11,"h2",7),n(12,"Facility Profile"),e(),t(13,"p",8),n(14,"Update facility information and service offerings."),e()()()(),s(15,"app-footer"),e())},dependencies:[P,M],styles:[".profile-card[_ngcontent-%COMP%]{transition:all .3s ease}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}"]})};function ke(l,r){if(l&1&&(t(0,"p",42),n(1),e()),l&2){let i=g();a(),c(" Logged in as: ",i.currentUser.email," ")}}function Te(l,r){if(l&1&&(t(0,"span"),n(1),e()),l&2){let i=g().$implicit;a(),c(" - ",i.practitioner.specialty,"")}}function Fe(l,r){if(l&1&&(t(0,"span"),n(1),e()),l&2){let i=g().$implicit;a(),c(" (",i.contractDuration," months)")}}function Oe(l,r){if(l&1&&(t(0,"span",71),s(1,"i",72),n(2),e()),l&2){let i=r.$implicit;a(2),c(" ",i.type," ")}}function Ae(l,r){if(l&1){let i=S();t(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),s(4,"i",54),e(),t(5,"div",55)(6,"h3",56),n(7),e(),t(8,"p",57),n(9),u(10,Te,2,1,"span",58),e(),t(11,"p",59),n(12),e(),t(13,"div",60)(14,"div")(15,"h4",61),n(16,"Requested Position"),e(),t(17,"p",57),n(18),e()(),t(19,"div")(20,"h4",61),n(21,"Employment Type"),e(),t(22,"p",57),n(23),v(24,"titlecase"),u(25,Fe,2,1,"span",58),e()(),t(26,"div",16)(27,"h4",61),n(28,"Justification"),e(),t(29,"p",57),n(30),e()()(),t(31,"div",62)(32,"h4",63),n(33,"Submitted Documents"),e(),t(34,"div",64),u(35,Oe,3,1,"span",65),e()()()(),t(36,"div",66)(37,"button",67),x("click",function(){let p=b(i).$implicit,f=g(2);return h(f.approveRequest(p.id))}),s(38,"i",68),n(39,"Approve "),e(),t(40,"button",69),x("click",function(){let p=b(i).$implicit,f=g(2);return h(f.rejectRequest(p.id))}),s(41,"i",70),n(42,"Reject "),e()()()()}if(l&2){let i=r.$implicit;a(7),m(i.practitioner.name),a(2),c("",i.practitioner.profession," "),a(),d("ngIf",i.practitioner.specialty),a(2),c("License: ",i.practitioner.licenseNumber,""),a(6),C("",i.requestedPosition," - ",i.requestedDepartment,""),a(5),c("",k(24,10,i.employmentType)," "),a(2),d("ngIf",i.contractDuration),a(5),m(i.justification),a(5),d("ngForOf",i.documents)}}function Ne(l,r){if(l&1&&(t(0,"section",43)(1,"div",2)(2,"div",44)(3,"div",45)(4,"h2",46),n(5,"Pending Affiliation Requests"),e(),t(6,"p",47),n(7,"Review and approve staff affiliation requests"),e()(),t(8,"div",48),u(9,Ae,43,12,"div",49),e()()()()),l&2){let i=g();a(9),d("ngForOf",i.pendingRequests)}}function Re(l,r){if(l&1&&s(0,"img",93),l&2){let i=g().$implicit;d("src",i.practitioner.photo,H)("alt",i.practitioner.name)}}function Le(l,r){l&1&&(t(0,"div",94),s(1,"i",95),e())}function Ue(l,r){if(l&1&&(t(0,"div",80),n(1),e()),l&2){let i=g().$implicit;a(),c(" ",i.practitioner.specialty," ")}}function Ge(l,r){if(l&1&&(t(0,"div",96),n(1),v(2,"date"),e()),l&2){let i=g().$implicit;a(),c(" Ended: ",_(2,1,i.endDate,"mediumDate")," ")}}function Ve(l,r){if(l&1){let i=S();t(0,"button",97),x("click",function(){b(i);let p=g().$implicit,f=g();return h(f.suspendAffiliation(p.id))}),s(1,"i",98),n(2,"Suspend "),e()}}function qe(l,r){if(l&1){let i=S();t(0,"button",99),x("click",function(){b(i);let p=g().$implicit,f=g();return h(f.terminateAffiliation(p.id))}),s(1,"i",100),n(2,"Terminate "),e()}}function je(l,r){if(l&1){let i=S();t(0,"tr",73)(1,"td",74)(2,"div",75)(3,"div",76),u(4,Re,1,2,"img",77)(5,Le,2,0,"div",78),e(),t(6,"div")(7,"div",79),n(8),e(),t(9,"div",59),n(10),e(),t(11,"div",80),n(12),e()()()(),t(13,"td",74)(14,"div",79),n(15),e(),t(16,"div",59),n(17),e(),u(18,Ue,2,1,"div",81),e(),t(19,"td",74)(20,"div",82),n(21),v(22,"titlecase"),e(),t(23,"div",59),n(24),v(25,"date"),e(),u(26,Ge,3,4,"div",83),t(27,"span",84),n(28),v(29,"titlecase"),e()(),t(30,"td",74)(31,"span",85),n(32),v(33,"titlecase"),e(),t(34,"div",86),n(35),v(36,"date"),e()(),t(37,"td",87)(38,"div",88)(39,"button",89),x("click",function(){let p=b(i).$implicit,f=g();return h(f.verifyStaff(p.id))}),s(40,"i",90),n(41,"Verify "),e(),u(42,Ve,3,0,"button",91)(43,qe,3,0,"button",92),e()()()}if(l&2){let i=r.$implicit,o=g();a(4),d("ngIf",i.practitioner.photo),a(),d("ngIf",!i.practitioner.photo),a(3),m(i.practitioner.name),a(2),m(i.practitioner.licenseNumber),a(2),m(i.practitioner.profession),a(3),m(i.position),a(2),m(i.department),a(),d("ngIf",i.practitioner.specialty),a(3),m(k(22,18,i.employmentType)),a(3),c("Started: ",_(25,20,i.startDate,"mediumDate"),""),a(2),d("ngIf",i.endDate),a(),d("ngClass",o.getStatusColor(i.status)),a(),c(" ",k(29,23,i.status)," "),a(3),d("ngClass",o.getVerificationStatusColor(i.verificationStatus)),a(),c(" ",k(33,25,i.verificationStatus)," "),a(3),c(" Last verified: ",_(36,27,i.lastVerification,"shortDate")," "),a(7),d("ngIf",i.status==="active"),a(),d("ngIf",i.status==="active"||i.status==="suspended")}}var ee=class l{titleService=y(I);router=y(D);currentUser=null;searchTerm="";selectedDepartment="all";selectedStatus="all";staffAffiliations=[{id:"AFF-001",practitioner:{name:"Dr. Yusuf AbdulHakim Addo",licenseNumber:"UMC-UG-2458",profession:"Medical Doctor",specialty:"Cardiology",photo:"https://readdy.ai/api/search-image?query=professional%20portrait%20of%20African%20male%20doctor%20in%20formal%20attire%20with%20stethoscope%2C%20confident%20pose%2C%20neutral%20background%2C%20well-groomed%2C%20professional%20lighting%2C%20high%20quality%20professional%20headshot%20of%20Ugandan%20medical%20doctor%2C%20serious%20expression&width=200&height=200&seq=doc1&orientation=squarish"},position:"Senior Consultant",department:"Cardiology",startDate:new Date("2023-01-15"),status:"active",employmentType:"full_time",approvedBy:"HR Manager - Grace Atim",approvalDate:new Date("2023-01-10"),lastVerification:new Date("2024-12-22"),verificationStatus:"verified"},{id:"AFF-002",practitioner:{name:"Dr. Sarah Nakato",licenseNumber:"UMC-UG-3456",profession:"Medical Doctor",specialty:"Pediatrics"},position:"Senior Consultant",department:"Pediatrics",startDate:new Date("2022-06-01"),status:"active",employmentType:"full_time",approvedBy:"HR Manager - Grace Atim",approvalDate:new Date("2022-05-25"),lastVerification:new Date("2024-12-20"),verificationStatus:"verified"},{id:"AFF-003",practitioner:{name:"Nurse Patricia Nambi",licenseNumber:"NMC-UG-7891",profession:"Nurse"},position:"Registered Nurse",department:"ICU",startDate:new Date("2021-03-10"),status:"suspended",employmentType:"full_time",approvedBy:"HR Manager - Grace Atim",approvalDate:new Date("2021-03-05"),lastVerification:new Date("2024-12-18"),verificationStatus:"suspended"}];pendingRequests=[{id:"REQ-001",practitioner:{name:"Dr. Michael Ssebunya",licenseNumber:"UMC-UG-4567",profession:"Medical Doctor",specialty:"Surgery"},requestedPosition:"Consultant Surgeon",requestedDepartment:"Surgery",requestDate:new Date("2025-01-10"),requestedBy:"Department Head - Dr. James Mukasa",employmentType:"full_time",justification:"Urgent need for additional surgical capacity in the department",documents:[{type:"CV",name:"Dr_Michael_Ssebunya_CV.pdf",uploadDate:new Date("2025-01-10")},{type:"License Certificate",name:"Medical_License_Certificate.pdf",uploadDate:new Date("2025-01-10")}]},{id:"REQ-002",practitioner:{name:"Nurse Grace Atim",licenseNumber:"NMC-UG-8901",profession:"Nurse"},requestedPosition:"Senior Nurse",requestedDepartment:"Emergency",requestDate:new Date("2025-01-12"),requestedBy:"Emergency Department Head",employmentType:"part_time",contractDuration:6,justification:"Additional nursing support needed for emergency department",documents:[{type:"Nursing Certificate",name:"Nursing_Certificate.pdf",uploadDate:new Date("2025-01-12")}]}];filteredAffiliations=[];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("Staff Linking - Facility Portal"),this.applyFilters()}applyFilters(){this.filteredAffiliations=this.staffAffiliations.filter(r=>{let i=!this.searchTerm||r.practitioner.name.toLowerCase().includes(this.searchTerm.toLowerCase())||r.practitioner.licenseNumber.toLowerCase().includes(this.searchTerm.toLowerCase())||r.department.toLowerCase().includes(this.searchTerm.toLowerCase()),o=this.selectedDepartment==="all"||r.department===this.selectedDepartment,p=this.selectedStatus==="all"||r.status===this.selectedStatus;return i&&o&&p})}onSearchChange(){this.applyFilters()}onDepartmentChange(r){this.selectedDepartment=r,this.applyFilters()}onStatusChange(r){this.selectedStatus=r,this.applyFilters()}approveRequest(r){let i=this.pendingRequests.find(o=>o.id===r);if(i){let o={id:"AFF-"+String(this.staffAffiliations.length+1).padStart(3,"0"),practitioner:i.practitioner,position:i.requestedPosition,department:i.requestedDepartment,startDate:new Date,status:"active",employmentType:i.employmentType,approvedBy:this.currentUser.name||"Current User",approvalDate:new Date,lastVerification:new Date,verificationStatus:"verified"};this.staffAffiliations.push(o);let p=this.pendingRequests.findIndex(f=>f.id===r);this.pendingRequests.splice(p,1),this.applyFilters(),alert(`Staff affiliation approved for ${i.practitioner.name}`)}}rejectRequest(r){let i=this.pendingRequests.find(o=>o.id===r);if(i){let o=prompt("Please provide a reason for rejection:");if(o){let p=this.pendingRequests.findIndex(f=>f.id===r);this.pendingRequests.splice(p,1),alert(`Request rejected for ${i.practitioner.name}. Reason: ${o}`)}}}terminateAffiliation(r){let i=this.staffAffiliations.find(o=>o.id===r);if(i){let o=prompt("Please provide a reason for termination:");o&&(i.status="terminated",i.endDate=new Date,i.terminationReason=o,this.applyFilters(),alert(`Staff affiliation terminated for ${i.practitioner.name}. Reason: ${o}`))}}suspendAffiliation(r){let i=this.staffAffiliations.find(o=>o.id===r);if(i){let o=prompt("Please provide a reason for suspension:");o&&(i.status="suspended",this.applyFilters(),alert(`Staff affiliation suspended for ${i.practitioner.name}. Reason: ${o}`))}}verifyStaff(r){let i=this.staffAffiliations.find(o=>o.id===r);i&&(i.lastVerification=new Date,alert(`Verification initiated for ${i.practitioner.name}`))}getStatusColor(r){switch(r){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-orange-100 text-orange-800";case"terminated":return"bg-red-100 text-red-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getVerificationStatusColor(r){switch(r){case"verified":return"bg-green-100 text-green-800";case"expired":return"bg-gray-100 text-gray-800";case"suspended":return"bg-orange-100 text-orange-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}formatNumber(r){return new Intl.NumberFormat("en-UG").format(r)}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-staff-linking"]],decls:77,vars:5,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-700","py-6"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-blue-100"],["class","text-blue-200 text-sm mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],["routerLink","/facility",1,"bg-white","text-blue-600","px-4","py-2","rounded-lg","hover:bg-gray-50","transition","font-medium","text-sm"],[1,"ri-arrow-left-line","mr-2"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium","text-sm",3,"click"],[1,"ri-logout-box-line","mr-2"],["class","py-6 bg-gray-50",4,"ngIf"],[1,"py-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6","mb-6"],[1,"grid","md:grid-cols-4","gap-4"],[1,"md:col-span-2"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"ri-search-line","text-gray-400"],["type","text","placeholder","Search staff by name, license, or department...",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary",3,"ngModelChange","input","ngModel"],[1,"w-full","px-3","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary",3,"change"],["value","all"],["value","Cardiology"],["value","Pediatrics"],["value","ICU"],["value","Emergency"],["value","Surgery"],["value","Nursing"],["value","active"],["value","suspended"],["value","terminated"],["value","pending_approval"],[1,"bg-white","rounded-lg","shadow-sm"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-800"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"text-blue-200","text-sm","mt-1"],[1,"py-6","bg-gray-50"],[1,"bg-white","rounded-lg","shadow-sm","border"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-600"],[1,"divide-y","divide-gray-200"],["class","p-6",4,"ngFor","ngForOf"],[1,"p-6"],[1,"flex","items-start","justify-between"],[1,"flex","items-start"],[1,"w-12","h-12","bg-yellow-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"ri-user-add-line","text-yellow-600"],[1,"flex-1"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[4,"ngIf"],[1,"text-sm","text-gray-500"],[1,"mt-3","grid","md:grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"mt-3"],[1,"text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",4,"ngFor","ngForOf"],[1,"flex","flex-col","space-y-2"],[1,"bg-green-500","text-white","px-4","py-2","rounded","text-sm","hover:bg-green-600","transition",3,"click"],[1,"ri-check-line","mr-1"],[1,"bg-red-500","text-white","px-4","py-2","rounded","text-sm","hover:bg-red-600","transition",3,"click"],[1,"ri-close-line","mr-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"ri-file-line","mr-1"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center"],[1,"w-12","h-12","rounded-full","overflow-hidden","bg-gray-200","mr-4"],["class","w-full h-full object-cover",3,"src","alt",4,"ngIf"],["class","w-full h-full flex items-center justify-center",4,"ngIf"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-400"],["class","text-xs text-gray-400",4,"ngIf"],[1,"text-sm","text-gray-900"],["class","text-sm text-red-600",4,"ngIf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","mt-1",3,"ngClass"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-xs","text-gray-500","mt-1"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"flex","items-center","space-x-2"],[1,"bg-blue-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-blue-600","transition",3,"click"],[1,"ri-refresh-line","mr-1"],["class","bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600 transition",3,"click",4,"ngIf"],["class","bg-red-500 text-white px-3 py-1 rounded text-xs hover:bg-red-600 transition",3,"click",4,"ngIf"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"ri-user-line","text-gray-400"],[1,"text-sm","text-red-600"],[1,"bg-orange-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-orange-600","transition",3,"click"],[1,"ri-pause-line","mr-1"],[1,"bg-red-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-red-600","transition",3,"click"],[1,"ri-user-unfollow-line","mr-1"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div")(6,"h1",4),n(7,"Staff Linking Management"),e(),t(8,"p",5),n(9,"Approve and manage staff affiliations with your facility"),e(),u(10,ke,2,1,"p",6),e(),t(11,"div",7)(12,"a",8),s(13,"i",9),n(14," Back to Dashboard "),e(),t(15,"button",10),x("click",function(){return o.logout()}),s(16,"i",11),n(17," Logout "),e()()()()(),u(18,Ne,10,1,"section",12),t(19,"section",13)(20,"div",2)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),s(26,"i",19),e(),t(27,"input",20),V("ngModelChange",function(f){return G(o.searchTerm,f)||(o.searchTerm=f),f}),x("input",function(){return o.onSearchChange()}),e()()(),t(28,"div")(29,"select",21),x("change",function(f){return o.onDepartmentChange(f.target.value)}),t(30,"option",22),n(31,"All Departments"),e(),t(32,"option",23),n(33,"Cardiology"),e(),t(34,"option",24),n(35,"Pediatrics"),e(),t(36,"option",25),n(37,"ICU"),e(),t(38,"option",26),n(39,"Emergency"),e(),t(40,"option",27),n(41,"Surgery"),e(),t(42,"option",28),n(43,"Nursing"),e()()(),t(44,"div")(45,"select",21),x("change",function(f){return o.onStatusChange(f.target.value)}),t(46,"option",22),n(47,"All Statuses"),e(),t(48,"option",29),n(49,"Active"),e(),t(50,"option",30),n(51,"Suspended"),e(),t(52,"option",31),n(53,"Terminated"),e(),t(54,"option",32),n(55,"Pending Approval"),e()()()()(),t(56,"div",33)(57,"div",34)(58,"h2",35),n(59),e()(),t(60,"div",36)(61,"table",37)(62,"thead",38)(63,"tr")(64,"th",39),n(65," Staff Member "),e(),t(66,"th",39),n(67," Position & Department "),e(),t(68,"th",39),n(69," Employment Details "),e(),t(70,"th",39),n(71," Verification Status "),e(),t(72,"th",39),n(73," Actions "),e()()(),t(74,"tbody",40),u(75,je,44,30,"tr",41),e()()()()()(),s(76,"app-footer"),e()),i&2&&(a(10),d("ngIf",o.currentUser),a(8),d("ngIf",o.pendingRequests.length>0),a(9),U("ngModel",o.searchTerm),a(32),c(" Current Staff Affiliations (",o.filteredAffiliations.length," members) "),a(16),d("ngForOf",o.filteredAffiliations))},dependencies:[Y,T,F,W,K,fe,z,J,A,P,M,R,O],styles:[".staff-table[_ngcontent-%COMP%]{min-width:1200px}.staff-row[_ngcontent-%COMP%]{transition:all .3s ease}.staff-row[_ngcontent-%COMP%]:hover{background-color:#14b8a605}.affiliation-card[_ngcontent-%COMP%]{transition:all .3s ease}.affiliation-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.action-button[_ngcontent-%COMP%]{transition:all .3s ease}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.status-active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-suspended[_ngcontent-%COMP%]{background-color:#fed7aa;color:#c2410c}.status-terminated[_ngcontent-%COMP%]{background-color:#fecaca;color:#991b1b}.status-pending-approval[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}@media (max-width: 768px){.staff-table[_ngcontent-%COMP%]{min-width:800px}.action-button[_ngcontent-%COMP%]{padding:4px 8px;font-size:10px}}"]})};function $e(l,r){if(l&1&&(t(0,"p",47),n(1),e()),l&2){let i=g();a(),c(" Logged in as: ",i.currentUser.email," ")}}function Qe(l,r){if(l&1&&(t(0,"div",55),n(1),v(2,"date"),e()),l&2){let i=g().$implicit;a(),c(" Last generated: ",_(2,1,i.lastGenerated,"mediumDate")," ")}}function Be(l,r){if(l&1){let i=S();t(0,"div",48),x("click",function(){let p=b(i).$implicit,f=g();return h(f.onTemplateChange(p.id))}),t(1,"div",49)(2,"h3",50),n(3),e(),t(4,"div",25),s(5,"input",51),e()(),t(6,"p",52),n(7),e(),t(8,"div",53)(9,"span"),n(10),e(),t(11,"span"),n(12),e()(),u(13,Qe,3,4,"div",54),e()}if(l&2){let i=r.$implicit,o=g();d("ngClass",o.selectedTemplate===i.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"),a(3),m(i.name),a(2),d("checked",o.selectedTemplate===i.id),a(2),m(i.description),a(3),C("",i.size," ",i.orientation,""),a(2),c("",o.formatNumber(i.downloadCount)," downloads"),a(),d("ngIf",i.lastGenerated)}}function He(l,r){if(l&1){let i=S();t(0,"label",56)(1,"input",57),x("change",function(){let p=b(i).$implicit,f=g();return h(f.onDepartmentToggle(p))}),e(),t(2,"span",27),n(3),e()()}if(l&2){let i=r.$implicit,o=g();a(),d("checked",o.selectedDepartments.includes(i)),a(2),m(i)}}function Ye(l,r){if(l&1&&s(0,"img",66),l&2){let i=g().$implicit;d("src",i.photo,H)("alt",i.name)}}function ze(l,r){l&1&&(t(0,"div",67),s(1,"i",68),e())}function Je(l,r){if(l&1&&(t(0,"div",58)(1,"div",59),u(2,Ye,1,2,"img",60)(3,ze,2,0,"div",61),e(),t(4,"div",62)(5,"h3",63),n(6),e(),t(7,"p",64),n(8),e(),t(9,"p",65),n(10),e()()()),l&2){let i=r.$implicit,o=g();d("ngClass",o.selectedDepartments.length===0||o.selectedDepartments.includes(i.department)?"bg-green-50 border-green-200":"bg-gray-50"),a(2),d("ngIf",i.photo),a(),d("ngIf",!i.photo),a(3),m(i.name),a(2),C("",i.position," - ",i.department,""),a(2),m(i.licenseNumber)}}function We(l,r){if(l&1&&(t(0,"div",24)(1,"div",69)(2,"div",70),s(3,"i",71),e(),t(4,"h4",72),n(5),e(),t(6,"p",73),n(7),e(),t(8,"div",74)(9,"div"),n(10),e(),t(11,"div"),n(12),v(13,"titlecase"),e(),t(14,"div"),n(15),e()()(),t(16,"div",75)(17,"div",76)(18,"span",77),n(19,"QR Codes"),e(),s(20,"i",78),e(),t(21,"div",76)(22,"span",77),n(23,"Photos"),e(),s(24,"i",78),e(),t(25,"div",76)(26,"span",77),n(27,"Facility Info"),e(),s(28,"i",78),e()()()),l&2){let i=g();a(5),m(i.getSelectedTemplate().name),a(2),m(i.getSelectedTemplate().description),a(3),C("Size: ",i.getSelectedTemplate().size," ",i.getSelectedTemplate().orientation,""),a(2),c("Layout: ",k(13,9,i.getSelectedTemplate().layout),""),a(3),c("Staff: ",i.getFilteredStaffCount()," members"),a(5),d("ngClass",i.getSelectedTemplate().includeQr?"ri-check-line text-green-600":"ri-close-line text-red-600"),a(4),d("ngClass",i.getSelectedTemplate().includePhotos?"ri-check-line text-green-600":"ri-close-line text-red-600"),a(4),d("ngClass",i.getSelectedTemplate().includeFacilityInfo?"ri-check-line text-green-600":"ri-close-line text-red-600")}}function Ke(l,r){if(l&1){let i=S();t(0,"div",79)(1,"div")(2,"div",63),n(3),e(),t(4,"div",65),n(5),v(6,"date"),e()(),t(7,"button",80),x("click",function(){b(i);let p=g();return h(p.downloadPoster())}),s(8,"i",81),n(9,"Download "),e()()}if(l&2){let i=r.$implicit;a(3),m(i.name),a(2),m(_(6,2,i.lastGenerated,"medium"))}}var te=class l{titleService=y(I);router=y(D);currentUser=null;selectedTemplate="TEMP-001";selectedDepartments=[];includeExpiringSoon=!1;autoUpdate=!0;posterTemplates=[{id:"TEMP-001",name:"Standard Lobby Poster",description:"Professional layout with photos and QR codes for lobby display",size:"A2",orientation:"portrait",layout:"department_grouped",includeQr:!0,includePhotos:!0,includeFacilityInfo:!0,lastGenerated:new Date("2025-01-12"),downloadCount:15},{id:"TEMP-002",name:"Department Specific",description:"Compact layout for individual department displays",size:"A3",orientation:"landscape",layout:"grid",includeQr:!0,includePhotos:!1,includeFacilityInfo:!1,lastGenerated:new Date("2025-01-10"),downloadCount:8},{id:"TEMP-003",name:"Emergency Contact List",description:"Emergency staff roster with contact information",size:"A4",orientation:"portrait",layout:"list",includeQr:!1,includePhotos:!1,includeFacilityInfo:!0,lastGenerated:new Date("2025-01-08"),downloadCount:23},{id:"TEMP-004",name:"Specialty Showcase",description:"Highlight specialists by medical specialty",size:"A1",orientation:"landscape",layout:"specialty_grouped",includeQr:!0,includePhotos:!0,includeFacilityInfo:!0,downloadCount:5}];verifiedStaff=[{name:"Dr. Yusuf AbdulHakim Addo",licenseNumber:"UMC-UG-2458",profession:"Medical Doctor",specialty:"Cardiology",position:"Senior Consultant",department:"Cardiology",photo:"https://readdy.ai/api/search-image?query=professional%20portrait%20of%20African%20male%20doctor%20in%20formal%20attire%20with%20stethoscope%2C%20confident%20pose%2C%20neutral%20background%2C%20well-groomed%2C%20professional%20lighting%2C%20high%20quality%20professional%20headshot%20of%20Ugandan%20medical%20doctor%2C%20serious%20expression&width=200&height=200&seq=doc1&orientation=squarish",qrCode:"UMR-QR-2458-VERIFY",verificationDate:new Date("2024-12-22"),licenseExpiry:new Date("2025-12-31")},{name:"Dr. Sarah Nakato",licenseNumber:"UMC-UG-3456",profession:"Medical Doctor",specialty:"Pediatrics",position:"Senior Consultant",department:"Pediatrics",qrCode:"UMR-QR-3456-VERIFY",verificationDate:new Date("2024-12-20"),licenseExpiry:new Date("2025-02-15")},{name:"Nurse Richard Akandwanaho",licenseNumber:"NMC-UG-5721",profession:"Nurse",position:"Registered Nurse",department:"ICU",qrCode:"UMR-QR-5721-VERIFY",verificationDate:new Date("2024-12-18"),licenseExpiry:new Date("2025-08-10")}];departments=["Cardiology","Pediatrics","ICU","Emergency","Surgery","Nursing","Laboratory","Radiology"];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("QR Poster Generator - Facility Portal")}onTemplateChange(r){this.selectedTemplate=r}onDepartmentToggle(r){let i=this.selectedDepartments.indexOf(r);i>-1?this.selectedDepartments.splice(i,1):this.selectedDepartments.push(r)}generatePoster(){let r=this.posterTemplates.find(i=>i.id===this.selectedTemplate);if(r){r.lastGenerated=new Date,r.downloadCount++;let i=this.verifiedStaff;if(this.selectedDepartments.length>0&&(i=this.verifiedStaff.filter(o=>this.selectedDepartments.includes(o.department))),this.includeExpiringSoon){let o=new Date;o.setDate(o.getDate()+30),i=i.filter(p=>p.licenseExpiry<=o)}alert(`Generating ${r.name} with ${i.length} staff members...`)}}previewPoster(){alert("Opening poster preview...")}downloadPoster(){let r=this.posterTemplates.find(i=>i.id===this.selectedTemplate);r&&alert(`Downloading ${r.name} poster...`)}scheduleAutoUpdate(){this.autoUpdate?alert("Auto-update enabled. Poster will be regenerated daily at 6:00 AM."):alert("Auto-update disabled. Manual regeneration required.")}getSelectedTemplate(){return this.posterTemplates.find(r=>r.id===this.selectedTemplate)}getFilteredStaffCount(){let r=this.verifiedStaff.length;if(this.selectedDepartments.length>0&&(r=this.verifiedStaff.filter(i=>this.selectedDepartments.includes(i.department)).length),this.includeExpiringSoon){let i=new Date;i.setDate(i.getDate()+30),r=this.verifiedStaff.filter(o=>o.licenseExpiry<=i&&(this.selectedDepartments.length===0||this.selectedDepartments.includes(o.department))).length}return r}formatNumber(r){return new Intl.NumberFormat("en-UG").format(r)}getRecentTemplates(){return this.posterTemplates.filter(r=>r.lastGenerated)}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-qr-poster-generator"]],decls:90,vars:10,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-purple-600","to-pink-700","py-6"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-purple-100"],["class","text-purple-200 text-sm mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],["routerLink","/facility",1,"bg-white","text-purple-600","px-4","py-2","rounded-lg","hover:bg-gray-50","transition","font-medium","text-sm"],[1,"ri-arrow-left-line","mr-2"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium","text-sm",3,"click"],[1,"ri-logout-box-line","mr-2"],[1,"py-8"],[1,"grid","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-xl","font-semibold","text-gray-800","mb-6"],[1,"grid","md:grid-cols-2","gap-4"],["class","border rounded-lg p-4 cursor-pointer transition-all",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"mb-6"],[1,"font-medium","text-gray-800","mb-3"],[1,"grid","md:grid-cols-3","gap-3"],["class","flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",4,"ngFor","ngForOf"],[1,"text-xs","text-gray-500","mt-2"],[1,"space-y-4"],[1,"flex","items-center"],["type","checkbox",1,"mr-3","text-purple-600",3,"ngModelChange","ngModel"],[1,"text-sm","text-gray-700"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"bg-purple-100","text-purple-800","text-sm","px-3","py-1","rounded-full"],[1,"grid","md:grid-cols-2","gap-4","max-h-96","overflow-y-auto"],["class","flex items-center p-3 border border-gray-200 rounded-lg",3,"ngClass",4,"ngFor","ngForOf"],[1,"space-y-6"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],["class","space-y-4",4,"ngIf"],[1,"space-y-3"],[1,"w-full","bg-blue-500","text-white","px-4","py-3","rounded-lg","hover:bg-blue-600","transition","font-medium",3,"click"],[1,"ri-eye-line","mr-2"],[1,"w-full","bg-purple-500","text-white","px-4","py-3","rounded-lg","hover:bg-purple-600","transition","font-medium",3,"click"],[1,"ri-printer-line","mr-2"],[1,"w-full","bg-green-500","text-white","px-4","py-3","rounded-lg","hover:bg-green-600","transition","font-medium",3,"click"],[1,"ri-calendar-line","mr-2"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"font-medium","text-gray-800","mb-2","text-sm"],[1,"text-xs","text-gray-600","space-y-1"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],[1,"text-purple-200","text-sm","mt-1"],[1,"border","rounded-lg","p-4","cursor-pointer","transition-all",3,"click","ngClass"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-medium","text-gray-800"],["type","radio",1,"text-purple-600",3,"checked"],[1,"text-sm","text-gray-600","mb-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","p-3","border","border-gray-200","rounded-lg","hover:bg-gray-50","cursor-pointer"],["type","checkbox",1,"mr-3","text-purple-600",3,"change","checked"],[1,"flex","items-center","p-3","border","border-gray-200","rounded-lg",3,"ngClass"],[1,"w-10","h-10","rounded-full","overflow-hidden","bg-gray-200","mr-3"],["class","w-full h-full object-cover",3,"src","alt",4,"ngIf"],["class","w-full h-full flex items-center justify-center",4,"ngIf"],[1,"flex-1"],[1,"font-medium","text-gray-800","text-sm"],[1,"text-xs","text-gray-600"],[1,"text-xs","text-gray-500"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"ri-user-line","text-gray-400"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-8","text-center","bg-gray-50"],[1,"w-16","h-16","bg-purple-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"ri-image-line","text-purple-600","text-2xl"],[1,"font-medium","text-gray-800","mb-2"],[1,"text-sm","text-gray-600","mb-4"],[1,"text-xs","text-gray-500","space-y-1"],[1,"space-y-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-600"],[3,"ngClass"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"bg-purple-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-purple-600","transition",3,"click"],[1,"ri-download-line","mr-1"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div")(6,"h1",4),n(7,"QR Poster Generator"),e(),t(8,"p",5),n(9,"Create lobby displays with verified staff information"),e(),u(10,$e,2,1,"p",6),e(),t(11,"div",7)(12,"a",8),s(13,"i",9),n(14," Back to Dashboard "),e(),t(15,"button",10),x("click",function(){return o.logout()}),s(16,"i",11),n(17," Logout "),e()()()()(),t(18,"section",12)(19,"div",2)(20,"div",13)(21,"div",14)(22,"div",15)(23,"h2",16),n(24,"Select Poster Template"),e(),t(25,"div",17),u(26,Be,14,8,"div",18),e()(),t(27,"div",15)(28,"h2",16),n(29,"Content Filters"),e(),t(30,"div",19)(31,"h3",20),n(32,"Select Departments"),e(),t(33,"div",21),u(34,He,4,2,"label",22),e(),t(35,"p",23),n(36," Leave empty to include all departments "),e()(),t(37,"div",24)(38,"label",25)(39,"input",26),V("ngModelChange",function(f){return G(o.includeExpiringSoon,f)||(o.includeExpiringSoon=f),f}),e(),t(40,"span",27),n(41,"Only include staff with licenses expiring in 30 days"),e()(),t(42,"label",25)(43,"input",26),V("ngModelChange",function(f){return G(o.autoUpdate,f)||(o.autoUpdate=f),f}),e(),t(44,"span",27),n(45,"Enable automatic daily updates"),e()()()(),t(46,"div",15)(47,"div",28)(48,"h2",29),n(49,"Staff to Include"),e(),t(50,"span",30),n(51),e()(),t(52,"div",31),u(53,Je,11,7,"div",32),e()()(),t(54,"div",33)(55,"div",15)(56,"h3",34),n(57,"Template Preview"),e(),u(58,We,29,11,"div",35),e(),t(59,"div",15)(60,"h3",34),n(61,"Generate Poster"),e(),t(62,"div",36)(63,"button",37),x("click",function(){return o.previewPoster()}),s(64,"i",38),n(65," Preview Poster "),e(),t(66,"button",39),x("click",function(){return o.generatePoster()}),s(67,"i",40),n(68," Generate & Download "),e(),t(69,"button",41),x("click",function(){return o.scheduleAutoUpdate()}),s(70,"i",42),n(71),e()(),t(72,"div",43)(73,"h4",44),n(74,"Usage Information"),e(),t(75,"div",45)(76,"div"),n(77,"\u2022 Posters are automatically updated when staff changes"),e(),t(78,"div"),n(79,"\u2022 QR codes link to real-time verification"),e(),t(80,"div"),n(81,"\u2022 High-resolution PDF suitable for printing"),e(),t(82,"div"),n(83,"\u2022 Compliant with facility branding guidelines"),e()()()(),t(84,"div",15)(85,"h3",34),n(86,"Recent Generations"),e(),t(87,"div",36),u(88,Ke,10,5,"div",46),e()()()()()(),s(89,"app-footer"),e()),i&2&&(a(10),d("ngIf",o.currentUser),a(16),d("ngForOf",o.posterTemplates),a(8),d("ngForOf",o.departments),a(5),U("ngModel",o.includeExpiringSoon),a(4),U("ngModel",o.autoUpdate),a(8),c(" ",o.getFilteredStaffCount()," staff members "),a(2),d("ngForOf",o.verifiedStaff),a(5),d("ngIf",o.getSelectedTemplate()),a(13),c(" ",o.autoUpdate?"Configure":"Enable"," Auto-Update "),a(17),d("ngForOf",o.getRecentTemplates()))},dependencies:[Y,T,F,ge,z,J,A,P,M,R,O],styles:[".poster-template[_ngcontent-%COMP%]{transition:all .3s ease}.poster-template[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.template-preview[_ngcontent-%COMP%]{transition:all .3s ease}.template-preview[_ngcontent-%COMP%]:hover{border-color:var(--primary)}.staff-preview[_ngcontent-%COMP%]{transition:all .3s ease}.staff-preview[_ngcontent-%COMP%]:hover{background-color:#9333ea05}.generation-button[_ngcontent-%COMP%]{transition:all .3s ease}.generation-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #0003}@media (max-width: 768px){.poster-template[_ngcontent-%COMP%]{margin-bottom:16px}.generation-button[_ngcontent-%COMP%]{padding:12px 16px;font-size:14px}}"]})};var ie=class l{titleService=y(I);router=y(D);currentUser=null;ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("Inspection Reports - Facility Portal")}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-inspection-reports"]],decls:16,vars:0,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-orange-600","to-red-700","py-6"],[1,"container","mx-auto","px-4"],[1,"text-2xl","font-bold","text-white"],[1,"text-orange-100"],[1,"py-8"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-600"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"h1",3),n(5,"Inspection Reports"),e(),t(6,"p",4),n(7,"View inspection findings and corrective actions"),e()()(),t(8,"section",5)(9,"div",2)(10,"div",6)(11,"h2",7),n(12,"Inspection History"),e(),t(13,"p",8),n(14,"View inspection reports and corrective action plans."),e()()()(),s(15,"app-footer"),e())},dependencies:[P,M],styles:[".inspection-card[_ngcontent-%COMP%]{transition:all .3s ease}.inspection-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}"]})};function Xe(l,r){if(l&1&&(t(0,"p",50),n(1),e()),l&2){let i=g();a(),c(" Logged in as: ",i.currentUser.email," ")}}function Ze(l,r){if(l&1&&(t(0,"div",51)(1,"div",52)(2,"h3",53),n(3),e(),t(4,"div",54),s(5,"i",55),t(6,"span",56),n(7),e()()(),t(8,"div",57),n(9),e(),t(10,"div",58),n(11),e(),t(12,"div",59),s(13,"div",60),e()()),l&2){let i=r.$implicit,o=g();E(i.status==="excellent"?"border-green-500":i.status==="good"?"border-blue-500":i.status==="needs_improvement"?"border-yellow-500":"border-red-500"),a(3),m(i.category),a(2),E(o.getTrendIcon(i.trend)),a(2),c("",i.trendValue.toFixed(1),"%"),a(2),c("",i.percentage.toFixed(1),"%"),a(2),C("",i.current,"/",i.target,""),a(2),E(o.getMetricStatusColor(i.status)),L("width",i.percentage,"%")}}function et(l,r){if(l&1&&(t(0,"div",66)(1,"div",54),s(2,"div",67),t(3,"span",68),n(4),e()(),t(5,"div",69)(6,"span",70),n(7),e(),t(8,"span",71),n(9),e()()()),l&2){let i=r.$implicit;a(4),m(i.name),a(3),m(i.count),a(2),c("(",i.percentage.toFixed(1),"%)")}}function tt(l,r){if(l&1&&(t(0,"div",66)(1,"div",54),s(2,"div",72),t(3,"span",68),n(4),e()(),t(5,"div",69)(6,"span",70),n(7),e(),t(8,"span",71),n(9),e()()()),l&2){let i=r.$implicit;a(4),m(i.name),a(3),m(i.count),a(2),c("(",i.percentage.toFixed(1),"%)")}}function it(l,r){if(l&1&&(t(0,"div",31)(1,"div",61)(2,"div",62),n(3),e(),t(4,"div",48),n(5),e()(),t(6,"div",63)(7,"div")(8,"h3",64),n(9,"By Department"),e(),t(10,"div",34),u(11,et,10,3,"div",65),e()(),t(12,"div")(13,"h3",64),n(14,"By Profession"),e(),t(15,"div",34),u(16,tt,10,3,"div",65),e()()()()),l&2){let i=g();a(3),m(i.getSelectedForecast().count),a(2),c("Licenses expiring in ",i.selectedTimeframe.replace("_"," "),""),a(6),d("ngForOf",i.getSelectedForecast().departments),a(5),d("ngForOf",i.getSelectedForecast().professions)}}function nt(l,r){if(l&1&&(t(0,"div",92),n(1),v(2,"date"),e()),l&2){let i=g().$implicit;a(),c(" Due: ",_(2,1,i.deadline,"short")," ")}}function rt(l,r){if(l&1&&(t(0,"div",87)(1,"div")(2,"div",88),n(3),e(),t(4,"div",89),n(5),e(),t(6,"div",90),n(7),e()(),u(8,nt,3,4,"div",91),e()),l&2){let i=r.$implicit;a(3),m(i.name),a(2),C("",i.department," - ",i.licenseNumber,""),a(2),m(i.issue),a(),d("ngIf",i.deadline)}}function at(l,r){if(l&1&&(t(0,"div",93),n(1),e()),l&2){let i=g().$implicit;a(),c(" +",i.affectedStaff.length-3," more affected staff members ")}}function ot(l,r){if(l&1&&(t(0,"li",94),s(1,"i",95),n(2),e()),l&2){let i=r.$implicit;a(2),c(" ",i," ")}}function lt(l,r){if(l&1){let i=S();t(0,"div",73)(1,"div",74)(2,"div")(3,"h3",75),n(4),e(),t(5,"div",54)(6,"span",76),n(7),e(),t(8,"span",77),n(9),e()()(),t(10,"button",78),x("click",function(){let p=b(i).$implicit,f=g();return h(f.generateActionPlan(p.type))}),s(11,"i",79),n(12,"Action Plan "),e()(),t(13,"div",80)(14,"h4",81),n(15,"Affected Staff (Sample)"),e(),t(16,"div",82),u(17,rt,9,5,"div",83),e(),u(18,at,2,1,"div",84),e(),t(19,"div")(20,"h4",81),n(21,"Recommended Actions"),e(),t(22,"ul",85),u(23,ot,3,1,"li",86),e()()()}if(l&2){let i=r.$implicit,o=g();E(o.getGapSeverityColor(i.severity)),a(4),m(i.type),a(3),c("",i.count," affected"),a(),E(o.getGapSeverityColor(i.severity)),a(),c(" ",i.severity," "),a(8),d("ngForOf",i.affectedStaff.slice(0,3)),a(),d("ngIf",i.affectedStaff.length>3),a(5),d("ngForOf",i.recommendedActions)}}function st(l,r){if(l&1&&(t(0,"div",96)(1,"div",97),n(2),e(),t(3,"div",92),n(4),e()()),l&2){let i=r.$implicit;a(2),m(i.type),a(2),c("",i.count," staff affected")}}var ne=class l{titleService=y(I);router=y(D);currentUser=null;selectedTimeframe="30_days";complianceMetrics=[{category:"Staff Verification",current:2698,target:2847,percentage:94.8,status:"excellent",trend:"up",trendValue:2.3},{category:"License Validity",current:2651,target:2847,percentage:93.1,status:"good",trend:"stable",trendValue:.1},{category:"CPD Compliance",current:2234,target:2847,percentage:78.5,status:"needs_improvement",trend:"up",trendValue:5.7},{category:"Document Completeness",current:2620,target:2847,percentage:92,status:"good",trend:"up",trendValue:1.8},{category:"Background Clearance",current:2789,target:2847,percentage:98,status:"excellent",trend:"stable",trendValue:.3}];expiryForecasts=[{timeframe:"30_days",count:47,departments:[{name:"Cardiology",count:12,percentage:25.5},{name:"Pediatrics",count:8,percentage:17},{name:"ICU",count:7,percentage:14.9},{name:"Emergency",count:6,percentage:12.8},{name:"Surgery",count:5,percentage:10.6},{name:"Other",count:9,percentage:19.1}],professions:[{name:"Medical Doctor",count:28,percentage:59.6},{name:"Nurse",count:12,percentage:25.5},{name:"Pharmacist",count:4,percentage:8.5},{name:"Allied Health",count:3,percentage:6.4}]},{timeframe:"60_days",count:89,departments:[{name:"Nursing",count:23,percentage:25.8},{name:"Laboratory",count:15,percentage:16.9},{name:"Radiology",count:12,percentage:13.5},{name:"Pharmacy",count:11,percentage:12.4},{name:"Emergency",count:10,percentage:11.2},{name:"Other",count:18,percentage:20.2}],professions:[{name:"Nurse",count:45,percentage:50.6},{name:"Medical Doctor",count:25,percentage:28.1},{name:"Allied Health",count:12,percentage:13.5},{name:"Pharmacist",count:7,percentage:7.9}]}];complianceGaps=[{type:"expired_license",severity:"critical",count:12,affectedStaff:[{name:"Dr. John Mukasa",licenseNumber:"UMC-UG-4521",department:"Surgery",issue:"License expired 15 days ago",deadline:new Date("2025-01-01")},{name:"Nurse Patricia Nambi",licenseNumber:"NMC-UG-7891",department:"ICU",issue:"License expired 8 days ago"}],recommendedActions:["Immediately suspend affected staff from patient care","Initiate emergency license renewal process","Arrange temporary coverage for affected positions","Review renewal reminder procedures"]},{type:"cpd_deficient",severity:"high",count:156,affectedStaff:[{name:"Dr. James Okello",licenseNumber:"UMC-UG-2789",department:"Emergency",issue:"CPD credits: 35/60 (58% complete)",deadline:new Date("2025-03-15")}],recommendedActions:["Arrange CPD training sessions for affected staff","Partner with training providers for bulk discounts","Implement mandatory CPD tracking system","Set up automated reminder system"]},{type:"missing_documents",severity:"medium",count:89,affectedStaff:[{name:"Dr. Grace Atim",licenseNumber:"UMC-UG-4892",department:"Obstetrics",issue:"Missing police clearance certificate",deadline:new Date("2025-02-28")}],recommendedActions:["Request missing documents from affected staff","Set document submission deadlines","Implement document verification checklist","Regular document audit schedule"]}];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),i=localStorage.getItem("currentUser");if(!r||!i){this.router.navigate(["/login"]);return}this.currentUser=JSON.parse(i),this.titleService.setTitle("Compliance Dashboard - Facility Portal")}onTimeframeChange(r){this.selectedTimeframe=r}getSelectedForecast(){return this.expiryForecasts.find(r=>r.timeframe===this.selectedTimeframe)}getMetricStatusColor(r){switch(r){case"excellent":return"bg-green-500";case"good":return"bg-blue-500";case"needs_improvement":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-gray-500"}}getGapSeverityColor(r){switch(r){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}getTrendIcon(r){switch(r){case"up":return"ri-arrow-up-line text-green-600";case"down":return"ri-arrow-down-line text-red-600";case"stable":return"ri-subtract-line text-gray-600";default:return"ri-subtract-line text-gray-600"}}exportComplianceReport(){alert("Generating comprehensive compliance report...")}generateActionPlan(r){alert(`Generating action plan for: ${r}`)}formatNumber(r){return new Intl.NumberFormat("en-UG").format(r)}formatPercentage(r){return`${r.toFixed(1)}%`}getCriticalGaps(){return this.complianceGaps.filter(r=>r.severity==="critical")}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=w({type:l,selectors:[["app-compliance-dashboard"]],decls:83,vars:6,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-green-600","to-emerald-700","py-6"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-green-100"],["class","text-green-200 text-sm mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-white","text-green-600","px-4","py-2","rounded-lg","hover:bg-gray-50","transition","font-medium","text-sm",3,"click"],[1,"ri-download-line","mr-2"],["routerLink","/facility",1,"bg-green-800","text-white","px-4","py-2","rounded-lg","hover:bg-green-900","transition","font-medium","text-sm"],[1,"ri-arrow-left-line","mr-2"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium","text-sm",3,"click"],[1,"ri-logout-box-line","mr-2"],[1,"py-8","bg-gray-50"],[1,"grid","md:grid-cols-2","lg:grid-cols-5","gap-6","mb-8"],["class","bg-white rounded-lg shadow-sm p-6 border-l-4",3,"class",4,"ngFor","ngForOf"],[1,"py-8"],[1,"grid","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-800"],[1,"border","border-gray-300","rounded-lg","px-3","py-2","text-sm",3,"change"],["value","30_days"],["value","60_days"],["value","90_days"],["value","6_months"],["value","1_year"],["class","space-y-6",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-800","mb-6"],[1,"space-y-6"],["class","border rounded-lg p-4",3,"class",4,"ngFor","ngForOf"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"space-y-3"],["routerLink","/facility/staff-linking",1,"w-full","bg-blue-500","text-white","px-4","py-2","rounded-lg","hover:bg-blue-600","transition","font-medium","text-center","block"],[1,"ri-team-line","mr-2"],[1,"w-full","bg-green-500","text-white","px-4","py-2","rounded-lg","hover:bg-green-600","transition","font-medium"],[1,"ri-mail-line","mr-2"],[1,"w-full","bg-purple-500","text-white","px-4","py-2","rounded-lg","hover:bg-purple-600","transition","font-medium"],[1,"ri-calendar-line","mr-2"],[1,"text-center"],[1,"relative","w-24","h-24","mx-auto","mb-4"],["viewBox","0 0 36 36",1,"w-24","h-24","transform","-rotate-90"],["stroke","currentColor","stroke-width","3","fill","none","d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"text-gray-200"],["stroke","currentColor","stroke-width","3","fill","none","stroke-linecap","round","d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"text-green-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"text-xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-600"],["class","p-3 bg-red-50 border border-red-200 rounded-lg",4,"ngFor","ngForOf"],[1,"text-green-200","text-sm","mt-1"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border-l-4"],[1,"flex","items-center","justify-between","mb-3"],[1,"font-medium","text-gray-800","text-sm"],[1,"flex","items-center"],[1,"text-sm","mr-1"],[1,"text-xs","font-medium"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-sm","text-gray-600","mb-3"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full"],[1,"text-center","p-6","bg-orange-50","rounded-lg","border","border-orange-200"],[1,"text-3xl","font-bold","text-orange-600","mb-2"],[1,"grid","md:grid-cols-2","gap-6"],[1,"font-medium","text-gray-800","mb-4"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between"],[1,"w-3","h-3","bg-orange-500","rounded-full","mr-3"],[1,"text-sm","text-gray-700"],[1,"text-right"],[1,"text-sm","font-medium","text-gray-800"],[1,"text-xs","text-gray-500","ml-2"],[1,"w-3","h-3","bg-blue-500","rounded-full","mr-3"],[1,"border","rounded-lg","p-4"],[1,"flex","items-start","justify-between","mb-4"],[1,"font-medium","text-gray-800","mb-1"],[1,"text-sm","font-medium","mr-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium"],[1,"bg-blue-500","text-white","px-3","py-1","rounded","text-xs","hover:bg-blue-600","transition",3,"click"],[1,"ri-file-list-line","mr-1"],[1,"mb-4"],[1,"font-medium","text-gray-800","mb-2","text-sm"],[1,"space-y-2"],["class","flex items-center justify-between text-sm bg-white rounded p-2",4,"ngFor","ngForOf"],["class","text-xs text-gray-500 mt-2",4,"ngIf"],[1,"space-y-1"],["class","flex items-start text-sm text-gray-700",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","text-sm","bg-white","rounded","p-2"],[1,"font-medium","text-gray-800"],[1,"text-gray-600"],[1,"text-gray-500"],["class","text-xs text-red-600",4,"ngIf"],[1,"text-xs","text-red-600"],[1,"text-xs","text-gray-500","mt-2"],[1,"flex","items-start","text-sm","text-gray-700"],[1,"ri-arrow-right-s-line","text-gray-400","mr-1","mt-0.5"],[1,"p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"font-medium","text-red-800","text-sm"]],template:function(i,o){i&1&&(t(0,"div",0),s(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div")(6,"h1",4),n(7,"Compliance Dashboard"),e(),t(8,"p",5),n(9,"Monitor staff compliance, expiries, and gaps"),e(),u(10,Xe,2,1,"p",6),e(),t(11,"div",7)(12,"button",8),x("click",function(){return o.exportComplianceReport()}),s(13,"i",9),n(14," Export Report "),e(),t(15,"a",10),s(16,"i",11),n(17," Back to Dashboard "),e(),t(18,"button",12),x("click",function(){return o.logout()}),s(19,"i",13),n(20," Logout "),e()()()()(),t(21,"section",14)(22,"div",2)(23,"div",15),u(24,Ze,14,13,"div",16),e()()(),t(25,"section",17)(26,"div",2)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"h2",22),n(32,"License Expiry Forecasts"),e(),t(33,"select",23),x("change",function(f){return o.onTimeframeChange(f.target.value)}),t(34,"option",24),n(35,"Next 30 Days"),e(),t(36,"option",25),n(37,"Next 60 Days"),e(),t(38,"option",26),n(39,"Next 90 Days"),e(),t(40,"option",27),n(41,"Next 6 Months"),e(),t(42,"option",28),n(43,"Next Year"),e()()(),u(44,it,17,4,"div",29),e(),t(45,"div",20)(46,"h2",30),n(47,"Compliance Gaps"),e(),t(48,"div",31),u(49,lt,24,10,"div",32),e()()(),t(50,"div",31)(51,"div",20)(52,"h3",33),n(53,"Quick Actions"),e(),t(54,"div",34)(55,"a",35),s(56,"i",36),n(57," Manage Staff "),e(),t(58,"button",37),s(59,"i",38),n(60," Send Reminders "),e(),t(61,"button",39),s(62,"i",40),n(63," Schedule Training "),e()()(),t(64,"div",20)(65,"h3",33),n(66,"Overall Compliance"),e(),t(67,"div",41)(68,"div",42),se(),t(69,"svg",43),s(70,"path",44)(71,"path",45),e(),de(),t(72,"div",46)(73,"span",47),n(74,"94.8%"),e()()(),t(75,"p",48),n(76,"Facility compliance score"),e()()(),t(77,"div",20)(78,"h3",33),n(79,"Critical Issues"),e(),t(80,"div",34),u(81,st,5,2,"div",49),e()()()()()(),s(82,"app-footer"),e()),i&2&&(a(10),d("ngIf",o.currentUser),a(14),d("ngForOf",o.complianceMetrics),a(20),d("ngIf",o.getSelectedForecast()),a(5),d("ngForOf",o.complianceGaps),a(22),me("stroke-dasharray",94.8+", 100"),a(10),d("ngForOf",o.getCriticalGaps()))},dependencies:[T,F,W,K,A,P,M,O],styles:[".compliance-card[_ngcontent-%COMP%]{transition:all .3s ease}.compliance-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.metric-card[_ngcontent-%COMP%]{transition:all .3s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.gap-card[_ngcontent-%COMP%]{transition:all .3s ease}.gap-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.progress-ring[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-ring-circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease-in-out}.forecast-bar[_ngcontent-%COMP%]{transition:width .5s ease-in-out}.action-button[_ngcontent-%COMP%]{transition:all .3s ease}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #0003}.status-excellent[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-good[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.status-needs-improvement[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-critical[_ngcontent-%COMP%]{background-color:#fecaca;color:#991b1b}@media (max-width: 768px){.compliance-card[_ngcontent-%COMP%]{margin-bottom:16px}.metric-card[_ngcontent-%COMP%]{padding:16px}}"]})};var dt=[{path:"",component:X},{path:"profile",component:Z},{path:"staff-linking",component:ee},{path:"qr-poster",component:te},{path:"inspections",component:ie},{path:"compliance",component:ne}],re=class l{static \u0275fac=function(i){return new(i||l)};static \u0275mod=B({type:l});static \u0275inj=Q({imports:[ae.forChild(dt),ae]})};var Ce=class l{static \u0275fac=function(i){return new(i||l)};static \u0275mod=B({type:l});static \u0275inj=Q({imports:[ce,ue,xe,ye,ve,be,Se,he,re,pe]})};export{Ce as FacilityPortalModule};
