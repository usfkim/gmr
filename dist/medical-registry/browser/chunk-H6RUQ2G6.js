import{d as z,e as Q,h as X,j as Y,l as K}from"./chunk-PAS32UQI.js";import{o as O,p as $,r as H,s as J}from"./chunk-VNBHRZ5R.js";import{a as F,b as N,c as W}from"./chunk-4UJSBPAV.js";import{D as o,Fa as P,Ga as I,Ha as A,I as x,K as c,Ka as B,La as T,Na as G,R as t,S as i,T as d,Ua as M,X as b,Y as g,Ya as R,Z as s,_a as j,ea as n,fa as m,ga as y,ha as w,n as S,p as C,q as E,r as D,u as _,ua as f,v as h,va as k,wa as v}from"./chunk-OBJ3TPWI.js";function ae(a,r){if(a&1&&(t(0,"p",34),n(1),i()),a&2){let e=s();o(),w(" Logged in as: ",e.currentUser.email," (",e.currentUser.role,") ")}}function oe(a,r){if(a&1&&(t(0,"div",59)(1,"span",60),n(2),i(),t(3,"span",61),n(4),i()()),a&2){let e=r.$implicit,l=s(2);o(2),y("",l.formatParameterName(e.key),":"),o(2),m(l.formatParameterValue(e.key,e.value))}}function le(a,r){if(a&1&&(t(0,"div")(1,"h4",52),n(2,"Expiry Date"),i(),t(3,"p",42),n(4),f(5,"date"),i()()),a&2){let e=s().$implicit;o(4),m(v(5,1,e.expiryDate,"mediumDate"))}}function se(a,r){if(a&1){let e=b();t(0,"button",62),g("click",function(){_(e);let p=s().$implicit,u=s();return h(u.activateRule(p.id))}),d(1,"i",63),n(2,"Activate "),i()}}function ce(a,r){if(a&1){let e=b();t(0,"button",64),g("click",function(){_(e);let p=s().$implicit,u=s();return h(u.archiveRule(p.id))}),d(1,"i",65),n(2,"Archive "),i()}}function de(a,r){if(a&1){let e=b();t(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39),d(5,"i",40),i(),t(6,"div")(7,"h3",41),n(8),i(),t(9,"p",42),n(10),i(),t(11,"p",43),n(12),i()()(),t(13,"span",44),n(14),f(15,"titlecase"),i()()(),t(16,"div",45)(17,"p",46),n(18),i(),t(19,"div",47)(20,"h4",48),n(21,"Parameters"),i(),t(22,"div",49),x(23,oe,5,2,"div",50),i()(),t(24,"div",51)(25,"div")(26,"h4",52),n(27,"Effective Date"),i(),t(28,"p",42),n(29),f(30,"date"),i()(),x(31,le,6,4,"div",53),t(32,"div")(33,"h4",52),n(34,"Created By"),i(),t(35,"p",42),n(36),i()(),t(37,"div")(38,"h4",52),n(39,"Last Modified"),i(),t(40,"p",42),n(41),f(42,"date"),i()()(),t(43,"div",54)(44,"button",55),g("click",function(){let p=_(e).$implicit,u=s();return h(u.editRule(p.id))}),d(45,"i",56),n(46,"Edit "),i(),x(47,se,3,0,"button",57)(48,ce,3,0,"button",58),i()()()}if(a&2){let e=r.$implicit,l=s();o(5),c("ngClass",l.getCategoryIcon(e.category)),o(3),m(e.name),o(2),w("",e.id," - v",e.version,""),o(2),m(e.profession),o(),c("ngClass",l.getStatusColor(e.status)),o(),y(" ",k(15,15,e.status)," "),o(4),m(e.description),o(5),c("ngForOf",l.getParameterEntries(e.parameters)),o(6),m(v(30,17,e.effectiveDate,"mediumDate")),o(2),c("ngIf",e.expiryDate),o(5),m(e.createdBy),o(5),m(v(42,20,e.lastModified,"medium")),o(6),c("ngIf",e.status==="draft"),o(),c("ngIf",e.status==="active")}}var L=class a{titleService=C(M);router=C(R);currentUser=null;selectedCategory="all";selectedProfession="all";policyRules=[{id:"POL-001",name:"Medical Doctor Annual License Fee",category:"fees",profession:"Medical Doctor",description:"Annual licensing fee structure for medical doctors based on practice type and experience",parameters:{baseFee:45e4,specialistSurcharge:2e5,ruralDiscount:.2,newGraduateDiscount:.5,currency:"UGX"},status:"active",effectiveDate:new Date("2024-01-01"),createdBy:"Policy Admin - Dr. Sarah Kiggundu",lastModified:new Date("2024-12-15"),version:3},{id:"POL-002",name:"CPD Credit Requirements - Specialists",category:"cpd_thresholds",profession:"Medical Doctor",description:"Continuing Professional Development credit requirements for medical specialists",parameters:{minimumCredits:60,clinicalSkillsMin:25,researchPublicationMin:10,teachingTrainingMin:15,professionalDevelopmentMin:10,validityPeriod:12},status:"active",effectiveDate:new Date("2024-01-01"),createdBy:"MDC Policy Committee",lastModified:new Date("2024-06-20"),version:2},{id:"POL-003",name:"License Renewal Grace Period",category:"grace_periods",profession:"All Professions",description:"Grace period and late fee structure for license renewals",parameters:{gracePeriodDays:30,lateFeePercentage:.25,maximumLateFee:2e5,suspensionAfterDays:90,revocationAfterDays:365},status:"active",effectiveDate:new Date("2023-01-01"),createdBy:"Regulatory Committee",lastModified:new Date("2024-03-10"),version:4},{id:"POL-004",name:"Emergency Fee Waiver - COVID-19",category:"fees",profession:"All Professions",description:"Emergency fee waiver policy for healthcare workers during national health emergencies",parameters:{waiverPercentage:1,eligibilityCriteria:["frontline_worker","public_facility","rural_posting"],emergencyDeclarationRequired:!0,maximumDuration:12},status:"archived",effectiveDate:new Date("2020-03-15"),expiryDate:new Date("2022-12-31"),createdBy:"Emergency Response Committee",lastModified:new Date("2022-12-31"),version:1},{id:"POL-005",name:"Nurse CPD Requirements",category:"cpd_thresholds",profession:"Nurse",description:"Continuing education requirements for registered nurses and nurse specialists",parameters:{minimumCredits:30,clinicalPracticeMin:15,professionalDevelopmentMin:10,leadershipTrainingMin:5,validityPeriod:12},status:"active",effectiveDate:new Date("2024-01-01"),createdBy:"NMC Policy Board",lastModified:new Date("2024-08-15"),version:1}];filteredRules=[];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),e=localStorage.getItem("currentUser");if(!r||!e){this.router.navigate(["/login"]);return}if(this.currentUser=JSON.parse(e),this.currentUser.role!=="admin"){alert("Access denied. This portal is restricted to government officials and regulators."),this.router.navigate(["/dashboard"]);return}this.titleService.setTitle("Policy Rules Engine - Government Portal"),this.applyFilters()}applyFilters(){this.filteredRules=this.policyRules.filter(r=>{let e=this.selectedCategory==="all"||r.category===this.selectedCategory,l=this.selectedProfession==="all"||r.profession===this.selectedProfession;return e&&l})}onCategoryChange(r){this.selectedCategory=r,this.applyFilters()}onProfessionChange(r){this.selectedProfession=r,this.applyFilters()}createRule(){alert("Opening policy rule creation wizard...")}editRule(r){alert(`Editing policy rule: ${r}`)}activateRule(r){let e=this.policyRules.find(l=>l.id===r);e&&(e.status="active",e.lastModified=new Date,this.applyFilters(),alert(`Policy rule ${r} activated`))}archiveRule(r){let e=this.policyRules.find(l=>l.id===r);e&&(e.status="archived",e.expiryDate=new Date,e.lastModified=new Date,this.applyFilters(),alert(`Policy rule ${r} archived`))}getStatusColor(r){switch(r){case"active":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}getCategoryIcon(r){switch(r){case"fees":return"ri-money-dollar-circle-line";case"grace_periods":return"ri-time-line";case"cpd_thresholds":return"ri-book-read-line";case"renewal_requirements":return"ri-refresh-line";case"sanctions":return"ri-shield-cross-line";default:return"ri-settings-line"}}formatCurrency(r){return new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}getParameterEntries(r){return Object.entries(r).map(([e,l])=>({key:e,value:l}))}formatParameterName(r){return r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}formatParameterValue(r,e){return r.toLowerCase().includes("fee")||r.toLowerCase().includes("cost")?this.formatCurrency(e):r.toLowerCase().includes("percentage")||r.toLowerCase().includes("discount")?`${(e*100).toFixed(1)}%`:r.toLowerCase().includes("days")||r.toLowerCase().includes("period")?`${e} days`:e.toString()}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-policy-engine"]],decls:63,vars:2,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-700","py-6"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-blue-100"],["class","text-blue-200 text-sm mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-white","text-blue-600","px-4","py-2","rounded-lg","hover:bg-gray-50","transition","font-medium","text-sm",3,"click"],[1,"ri-add-line","mr-2"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium","text-sm",3,"click"],[1,"ri-logout-box-line","mr-2"],[1,"py-6","bg-gray-50"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"grid","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"w-full","px-3","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary",3,"change"],["value","all"],["value","fees"],["value","grace_periods"],["value","cpd_thresholds"],["value","renewal_requirements"],["value","sanctions"],["value","Medical Doctor"],["value","Nurse"],["value","Pharmacist"],["value","Dentist"],["value","All Professions"],[1,"flex","items-end"],[1,"w-full","bg-primary","text-white","px-4","py-3","rounded-lg","hover:bg-blue-700","transition","font-medium",3,"click"],[1,"ri-refresh-line","mr-2"],[1,"py-6"],[1,"grid","lg:grid-cols-2","gap-6"],["class","bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],[1,"text-blue-200","text-sm","mt-1"],[1,"bg-white","rounded-lg","shadow-sm","border","hover:shadow-md","transition-shadow"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex","items-center"],[1,"w-12","h-12","bg-blue-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"text-blue-600","text-xl",3,"ngClass"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"p-6"],[1,"text-gray-600","mb-4"],[1,"bg-gray-50","rounded-lg","p-4","mb-4"],[1,"font-medium","text-gray-800","mb-3"],[1,"space-y-2"],["class","flex justify-between text-sm",4,"ngFor","ngForOf"],[1,"grid","md:grid-cols-2","gap-4","mb-4"],[1,"text-sm","font-medium","text-gray-700"],[4,"ngIf"],[1,"flex","space-x-2"],[1,"flex-1","bg-blue-500","text-white","px-3","py-2","rounded","text-sm","hover:bg-blue-600","transition",3,"click"],[1,"ri-edit-line","mr-1"],["class","flex-1 bg-green-500 text-white px-3 py-2 rounded text-sm hover:bg-green-600 transition",3,"click",4,"ngIf"],["class","flex-1 bg-gray-500 text-white px-3 py-2 rounded text-sm hover:bg-gray-600 transition",3,"click",4,"ngIf"],[1,"flex","justify-between","text-sm"],[1,"text-gray-600"],[1,"font-medium","text-gray-800"],[1,"flex-1","bg-green-500","text-white","px-3","py-2","rounded","text-sm","hover:bg-green-600","transition",3,"click"],[1,"ri-check-line","mr-1"],[1,"flex-1","bg-gray-500","text-white","px-3","py-2","rounded","text-sm","hover:bg-gray-600","transition",3,"click"],[1,"ri-archive-line","mr-1"]],template:function(e,l){e&1&&(t(0,"div",0),d(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div")(6,"h1",4),n(7,"Policy Rules Engine"),i(),t(8,"p",5),n(9,"Manage licensing policies, fees, and compliance rules"),i(),x(10,ae,2,2,"p",6),i(),t(11,"div",7)(12,"button",8),g("click",function(){return l.createRule()}),d(13,"i",9),n(14," Create Rule "),i(),t(15,"button",10),g("click",function(){return l.logout()}),d(16,"i",11),n(17," Logout "),i()()()()(),t(18,"section",12)(19,"div",2)(20,"div",13)(21,"div",14)(22,"div")(23,"label",15),n(24,"Category"),i(),t(25,"select",16),g("change",function(u){return l.onCategoryChange(u.target.value)}),t(26,"option",17),n(27,"All Categories"),i(),t(28,"option",18),n(29,"Fees"),i(),t(30,"option",19),n(31,"Grace Periods"),i(),t(32,"option",20),n(33,"CPD Thresholds"),i(),t(34,"option",21),n(35,"Renewal Requirements"),i(),t(36,"option",22),n(37,"Sanctions"),i()()(),t(38,"div")(39,"label",15),n(40,"Profession"),i(),t(41,"select",16),g("change",function(u){return l.onProfessionChange(u.target.value)}),t(42,"option",17),n(43,"All Professions"),i(),t(44,"option",23),n(45,"Medical Doctor"),i(),t(46,"option",24),n(47,"Nurse"),i(),t(48,"option",25),n(49,"Pharmacist"),i(),t(50,"option",26),n(51,"Dentist"),i(),t(52,"option",27),n(53,"All Professions"),i()()(),t(54,"div",28)(55,"button",29),g("click",function(){return l.applyFilters()}),d(56,"i",30),n(57," Refresh "),i()()()()()(),t(58,"section",31)(59,"div",2)(60,"div",32),x(61,de,49,23,"div",33),i()()(),d(62,"app-footer"),i()),e&2&&(o(10),c("ngIf",l.currentUser),o(51),c("ngForOf",l.filteredRules))},dependencies:[P,I,A,O,$,F,N,B,T],styles:[".policy-card[_ngcontent-%COMP%]{transition:all .3s ease}.policy-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.parameter-grid[_ngcontent-%COMP%], .policy-timeline[_ngcontent-%COMP%]{transition:all .3s ease}"]})};function me(a,r){if(a&1&&(t(0,"p",35),n(1),i()),a&2){let e=s();o(),w(" Logged in as: ",e.currentUser.email," (",e.currentUser.role,") ")}}function pe(a,r){if(a&1&&(t(0,"div")(1,"span",43),n(2,"Profession:"),i(),t(3,"span",66),n(4),i()()),a&2){let e=s().$implicit;o(4),m(e.targetCriteria.profession)}}function ue(a,r){if(a&1&&(t(0,"div")(1,"span",43),n(2,"Region:"),i(),t(3,"span",66),n(4),i()()),a&2){let e=s().$implicit;o(4),m(e.targetCriteria.region)}}function ge(a,r){if(a&1&&(t(0,"div")(1,"span",43),n(2,"Status:"),i(),t(3,"span",66),n(4),i()()),a&2){let e=s().$implicit;o(4),m(e.targetCriteria.status)}}function xe(a,r){if(a&1&&(t(0,"div")(1,"span",43),n(2,"Expiry Range:"),i(),t(3,"span",66),n(4),f(5,"date"),f(6,"date"),i()()),a&2){let e=s().$implicit;o(4),w(" ",v(5,2,e.targetCriteria.expiryDateRange.start,"shortDate")," - ",v(6,5,e.targetCriteria.expiryDateRange.end,"shortDate")," ")}}function fe(a,r){if(a&1&&(t(0,"li"),n(1),i()),a&2){let e=r.$implicit;o(),y("\u2022 ",e,"")}}function ve(a,r){if(a&1&&(t(0,"div")(1,"h5",74),n(2,"Errors:"),i(),t(3,"ul",75),x(4,fe,2,1,"li",76),i()()),a&2){let e=s(2).$implicit;o(4),c("ngForOf",e.results.errors)}}function ye(a,r){if(a&1&&(t(0,"div",67)(1,"h4",51),n(2,"Execution Results"),i(),t(3,"div",68)(4,"div",69)(5,"div",70),n(6),i(),t(7,"div",71),n(8,"Processed"),i()(),t(9,"div",69)(10,"div",72),n(11),i(),t(12,"div",71),n(13,"Successful"),i()(),t(14,"div",69)(15,"div",73),n(16),i(),t(17,"div",71),n(18,"Failed"),i()()(),x(19,ve,5,1,"div",53),i()),a&2){let e=s().$implicit,l=s();o(6),m(l.formatNumber(e.results.processed)),o(5),m(l.formatNumber(e.results.successful)),o(5),m(l.formatNumber(e.results.failed)),o(3),c("ngIf",e.results.errors.length>0)}}function _e(a,r){if(a&1&&(t(0,"div",56),d(1,"i",77),t(2,"div")(3,"div",58),n(4,"Approved"),i(),t(5,"div",59),n(6),f(7,"date"),i(),t(8,"div",60),n(9),i()()()),a&2){let e=s().$implicit;o(6),m(v(7,2,e.approvedDate,"medium")),o(3),y("by ",e.approvedBy,"")}}function he(a,r){if(a&1&&(t(0,"div",56),d(1,"i",78),t(2,"div")(3,"div",58),n(4,"Executed"),i(),t(5,"div",59),n(6),f(7,"date"),i()()()),a&2){let e=s().$implicit;o(6),m(v(7,1,e.executedDate,"medium"))}}function be(a,r){if(a&1&&(t(0,"div",56),d(1,"i",79),t(2,"div")(3,"div",58),n(4,"Completed"),i(),t(5,"div",59),n(6),f(7,"date"),i()()()),a&2){let e=s().$implicit;o(6),m(v(7,1,e.completedDate,"medium"))}}function Ce(a,r){if(a&1){let e=b();t(0,"button",80),g("click",function(){_(e);let p=s().$implicit,u=s();return h(u.approveAction(p.id))}),d(1,"i",81),n(2,"Approve "),i()}}function we(a,r){if(a&1){let e=b();t(0,"button",82),g("click",function(){_(e);let p=s().$implicit,u=s();return h(u.executeAction(p.id))}),d(1,"i",83),n(2,"Execute "),i()}}function Se(a,r){if(a&1){let e=b();t(0,"button",84),g("click",function(){_(e);let p=s().$implicit,u=s();return h(u.viewResults(p.id))}),d(1,"i",85),n(2,"View Results "),i()}}function Ee(a,r){if(a&1&&(t(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40),d(5,"i",41),i(),t(6,"div")(7,"h3",42),n(8),i(),t(9,"p",43),n(10),i(),t(11,"p",44),n(12),i()()(),t(13,"span",45),n(14),f(15,"titlecase"),i()()(),t(16,"div",46)(17,"div",47)(18,"div",48)(19,"p",49),n(20),i(),t(21,"div",50)(22,"h4",51),n(23,"Target Criteria"),i(),t(24,"div",52),x(25,pe,5,1,"div",53)(26,ue,5,1,"div",53)(27,ge,5,1,"div",53)(28,xe,7,8,"div",53),i()(),x(29,ye,20,4,"div",54),i(),t(30,"div")(31,"div",50)(32,"h4",51),n(33,"Timeline"),i(),t(34,"div",55)(35,"div",56),d(36,"i",57),t(37,"div")(38,"div",58),n(39,"Created"),i(),t(40,"div",59),n(41),f(42,"date"),i(),t(43,"div",60),n(44),i()()(),x(45,_e,10,5,"div",61)(46,he,8,4,"div",61)(47,be,8,4,"div",61),i()(),t(48,"div",62),x(49,Ce,3,0,"button",63)(50,we,3,0,"button",64)(51,Se,3,0,"button",65),i()()()()()),a&2){let e=r.$implicit,l=s();o(5),c("ngClass",l.getTypeIcon(e.type)),o(3),m(e.title),o(2),m(e.id),o(2),y("Affects ",l.formatNumber(e.estimatedAffected)," practitioners"),o(),c("ngClass",l.getStatusColor(e.status)),o(),y(" ",k(15,20,e.status)," "),o(6),m(e.description),o(5),c("ngIf",e.targetCriteria.profession),o(),c("ngIf",e.targetCriteria.region),o(),c("ngIf",e.targetCriteria.status),o(),c("ngIf",e.targetCriteria.expiryDateRange),o(),c("ngIf",e.results),o(12),m(v(42,22,e.createdDate,"medium")),o(3),y("by ",e.createdBy,""),o(),c("ngIf",e.approvedDate),o(),c("ngIf",e.executedDate),o(),c("ngIf",e.completedDate),o(2),c("ngIf",e.status==="pending_approval"),o(),c("ngIf",e.status==="approved"),o(),c("ngIf",e.results)}}var U=class a{titleService=C(M);router=C(R);currentUser=null;selectedType="all";selectedStatus="all";bulkActions=[{id:"BA-2025-001",type:"mass_renewal",title:"Q1 2025 Nurse License Renewals",description:"Bulk renewal processing for all nurses with licenses expiring in Q1 2025",targetCriteria:{profession:"Nurse",status:"active",expiryDateRange:{start:new Date("2025-01-01"),end:new Date("2025-03-31")}},estimatedAffected:2847,status:"executing",createdBy:"NMC Admin - Patricia Nakato",createdDate:new Date("2025-01-10"),approvedBy:"Director - Dr. James Mukasa",approvedDate:new Date("2025-01-12"),executedDate:new Date("2025-01-15"),results:{processed:1247,successful:1198,failed:49,errors:["Payment verification failed for 23 practitioners","CPD requirements not met for 26 practitioners"]}},{id:"BA-2025-002",type:"fee_waiver",title:"Rural Healthcare Worker Fee Waiver",description:"Emergency fee waiver for healthcare workers in underserved rural areas",targetCriteria:{region:"Northern",status:"active"},estimatedAffected:456,status:"pending_approval",createdBy:"Policy Officer - Sarah Nambi",createdDate:new Date("2025-01-14")},{id:"BA-2025-003",type:"cpd_reminder",title:"CPD Deadline Reminder - Specialists",description:"Automated reminder for medical specialists with CPD deadlines approaching in next 30 days",targetCriteria:{profession:"Medical Doctor"},estimatedAffected:1247,status:"completed",createdBy:"System Automation",createdDate:new Date("2025-01-01"),approvedBy:"Auto-approved",approvedDate:new Date("2025-01-01"),executedDate:new Date("2025-01-01"),completedDate:new Date("2025-01-01"),results:{processed:1247,successful:1247,failed:0,errors:[]}}];filteredActions=[];ngOnInit(){window.scrollTo({top:0,behavior:"smooth"});let r=localStorage.getItem("isLoggedIn"),e=localStorage.getItem("currentUser");if(!r||!e){this.router.navigate(["/login"]);return}if(this.currentUser=JSON.parse(e),this.currentUser.role!=="admin"){alert("Access denied. This portal is restricted to government officials and regulators."),this.router.navigate(["/dashboard"]);return}this.titleService.setTitle("Bulk Actions - Government Portal"),this.applyFilters()}applyFilters(){this.filteredActions=this.bulkActions.filter(r=>{let e=this.selectedType==="all"||r.type===this.selectedType,l=this.selectedStatus==="all"||r.status===this.selectedStatus;return e&&l})}onTypeChange(r){this.selectedType=r,this.applyFilters()}onStatusChange(r){this.selectedStatus=r,this.applyFilters()}createBulkAction(){alert("Opening bulk action creation wizard...")}approveAction(r){let e=this.bulkActions.find(l=>l.id===r);e&&(e.status="approved",e.approvedBy=this.currentUser.name,e.approvedDate=new Date,this.applyFilters(),alert(`Bulk action ${r} approved`))}executeAction(r){let e=this.bulkActions.find(l=>l.id===r);e&&(e.status="executing",e.executedDate=new Date,this.applyFilters(),alert(`Bulk action ${r} execution started`))}viewResults(r){alert(`Viewing results for bulk action: ${r}`)}getStatusColor(r){switch(r){case"draft":return"bg-gray-100 text-gray-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"executing":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}getTypeIcon(r){switch(r){case"mass_renewal":return"ri-refresh-line";case"fee_waiver":return"ri-money-dollar-circle-line";case"status_update":return"ri-edit-line";case"cpd_reminder":return"ri-notification-line";case"document_request":return"ri-file-list-line";default:return"ri-settings-line"}}formatNumber(r){return new Intl.NumberFormat("en-UG").format(r)}logout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=E({type:a,selectors:[["app-bulk-actions"]],decls:65,vars:2,consts:[[1,"bg-white","min-h-screen"],[1,"bg-gradient-to-r","from-green-600","to-emerald-700","py-6"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-green-100"],["class","text-green-200 text-sm mt-1",4,"ngIf"],[1,"flex","items-center","space-x-3","mt-4","md:mt-0"],[1,"bg-white","text-green-600","px-4","py-2","rounded-lg","hover:bg-gray-50","transition","font-medium","text-sm",3,"click"],[1,"ri-add-line","mr-2"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-600","transition","font-medium","text-sm",3,"click"],[1,"ri-logout-box-line","mr-2"],[1,"py-6","bg-gray-50"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"grid","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"w-full","px-3","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary",3,"change"],["value","all"],["value","mass_renewal"],["value","fee_waiver"],["value","status_update"],["value","cpd_reminder"],["value","document_request"],["value","draft"],["value","pending_approval"],["value","approved"],["value","executing"],["value","completed"],["value","failed"],[1,"flex","items-end"],[1,"w-full","bg-primary","text-white","px-4","py-3","rounded-lg","hover:bg-blue-700","transition","font-medium",3,"click"],[1,"ri-refresh-line","mr-2"],[1,"py-6"],[1,"space-y-6"],["class","bg-white rounded-lg shadow-sm border",4,"ngFor","ngForOf"],[1,"text-green-200","text-sm","mt-1"],[1,"bg-white","rounded-lg","shadow-sm","border"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex","items-center"],[1,"w-12","h-12","bg-green-100","rounded-full","flex","items-center","justify-center","mr-4"],[1,"text-green-600","text-xl",3,"ngClass"],[1,"font-semibold","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"p-6"],[1,"grid","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"text-gray-600","mb-4"],[1,"bg-gray-50","rounded-lg","p-4","mb-4"],[1,"font-medium","text-gray-800","mb-3"],[1,"grid","md:grid-cols-2","gap-4"],[4,"ngIf"],["class","bg-blue-50 rounded-lg p-4",4,"ngIf"],[1,"space-y-3"],[1,"flex","items-center","text-sm"],[1,"ri-add-line","text-gray-400","mr-2"],[1,"text-gray-800"],[1,"text-gray-600"],[1,"text-gray-500"],["class","flex items-center text-sm",4,"ngIf"],[1,"space-y-2"],["class","w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition text-sm",3,"click",4,"ngIf"],["class","w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition text-sm",3,"click",4,"ngIf"],["class","w-full bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition text-sm",3,"click",4,"ngIf"],[1,"ml-2","font-medium","text-gray-800"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"grid","md:grid-cols-3","gap-4","mb-3"],[1,"text-center"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-xs","text-gray-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-red-600"],[1,"font-medium","text-gray-800","mb-2","text-sm"],[1,"text-sm","text-red-600","space-y-1"],[4,"ngFor","ngForOf"],[1,"ri-check-line","text-green-500","mr-2"],[1,"ri-play-line","text-blue-500","mr-2"],[1,"ri-check-double-line","text-green-600","mr-2"],[1,"w-full","bg-green-500","text-white","px-4","py-2","rounded-lg","hover:bg-green-600","transition","text-sm",3,"click"],[1,"ri-check-line","mr-2"],[1,"w-full","bg-blue-500","text-white","px-4","py-2","rounded-lg","hover:bg-blue-600","transition","text-sm",3,"click"],[1,"ri-play-line","mr-2"],[1,"w-full","bg-purple-500","text-white","px-4","py-2","rounded-lg","hover:bg-purple-600","transition","text-sm",3,"click"],[1,"ri-bar-chart-line","mr-2"]],template:function(e,l){e&1&&(t(0,"div",0),d(1,"app-header"),t(2,"section",1)(3,"div",2)(4,"div",3)(5,"div")(6,"h1",4),n(7,"Bulk Actions"),i(),t(8,"p",5),n(9,"Mass renewals, fee waivers, and bulk operations"),i(),x(10,me,2,2,"p",6),i(),t(11,"div",7)(12,"button",8),g("click",function(){return l.createBulkAction()}),d(13,"i",9),n(14," Create Bulk Action "),i(),t(15,"button",10),g("click",function(){return l.logout()}),d(16,"i",11),n(17," Logout "),i()()()()(),t(18,"section",12)(19,"div",2)(20,"div",13)(21,"div",14)(22,"div")(23,"label",15),n(24,"Action Type"),i(),t(25,"select",16),g("change",function(u){return l.onTypeChange(u.target.value)}),t(26,"option",17),n(27,"All Types"),i(),t(28,"option",18),n(29,"Mass Renewal"),i(),t(30,"option",19),n(31,"Fee Waiver"),i(),t(32,"option",20),n(33,"Status Update"),i(),t(34,"option",21),n(35,"CPD Reminder"),i(),t(36,"option",22),n(37,"Document Request"),i()()(),t(38,"div")(39,"label",15),n(40,"Status"),i(),t(41,"select",16),g("change",function(u){return l.onStatusChange(u.target.value)}),t(42,"option",17),n(43,"All Statuses"),i(),t(44,"option",23),n(45,"Draft"),i(),t(46,"option",24),n(47,"Pending Approval"),i(),t(48,"option",25),n(49,"Approved"),i(),t(50,"option",26),n(51,"Executing"),i(),t(52,"option",27),n(53,"Completed"),i(),t(54,"option",28),n(55,"Failed"),i()()(),t(56,"div",29)(57,"button",30),g("click",function(){return l.applyFilters()}),d(58,"i",31),n(59," Refresh "),i()()()()()(),t(60,"section",32)(61,"div",2)(62,"div",33),x(63,Ee,52,25,"div",34),i()()(),d(64,"app-footer"),i()),e&2&&(o(10),c("ngIf",l.currentUser),o(53),c("ngForOf",l.filteredActions))},dependencies:[P,I,A,O,$,F,N,B,T],styles:[".action-card[_ngcontent-%COMP%]{transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.criteria-grid[_ngcontent-%COMP%], .results-summary[_ngcontent-%COMP%]{transition:all .3s ease}"]})};var De=[{path:"",redirectTo:"policy-engine",pathMatch:"full"},{path:"policy-engine",component:L},{path:"bulk-actions",component:U}],V=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=D({type:a});static \u0275inj=S({imports:[j.forChild(De),j]})};var Z=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=D({type:a});static \u0275inj=S({imports:[G,H,J,Q,z,X,K,Y,V,W]})};export{Z as LicensingModule};
